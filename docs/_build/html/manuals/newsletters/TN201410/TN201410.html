

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Taking a VTAM trace &mdash; Virtel 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Virtel 1 documentation" href="../../../index.html"/>
        <link rel="up" title="Technical Newsletters" href="../../../newsletters.html"/>
        <link rel="next" title="Building a customized USSTAB using Virtel’s Web Access facility" href="../TN201411/TN201411.html"/>
        <link rel="prev" title="Mainframe printing with Virtel 4.56" href="../TN201409/TN201409.html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Virtel
          

          
            
            <img src="../../../_static/logo_virtel_web.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../virtel.html">Virtel Manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../newsletters.html">Technical Newsletters</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../newsletters.html#id1">2014</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../TN201406/TN201406.html">Taking a VIRTEL terminal trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201407/TN201407.html">Pass tickets and supporting Proxy Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201409/TN201409.html">Mainframe printing with Virtel 4.56</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Taking a VTAM trace</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#security">Security</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../TN201411/TN201411.html">Building a customized USSTAB using Virtel’s Web Access facility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201412/TN201412.html">Sharing user macros across multiple instances of Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201413/TN201413.html">Overview of a Virtel Session</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201414/TN201414.html">CICS Printing problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201415/TN201415.html">Virtel JES Writer program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201416/TN201416.html">Virtel Security. Using server and client certificates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201417/TN201417.html">RACF Grouping Class and Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201419/TN201419.html">Maintaining TRSF file sets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id2">2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id3">2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id4">2017</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Virtel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../newsletters.html">Technical Newsletters</a> &raquo;</li>
      
    <li>Taking a VTAM trace</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/manuals/newsletters/TN201410/TN201410.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="taking-a-vtam-trace">
<h1>Taking a VTAM trace<a class="headerlink" href="#taking-a-vtam-trace" title="Permalink to this headline">¶</a></h1>
<p>This newsletters provides details on how to take a VTAM buffer trace and
print the details. In this scenario we are taking a trace between VIRTEL
and TSO via the IBM network session monitor Netview Access (NVAS). In my
example the VIRTEL prefix for the relay is REH. Yours will be different.</p>
<p><img alt="image1" src="../../../_images/image12.jpeg" /></p>
<p><strong>Types of traces.</strong></p>
<p>There are two types of traces that are of interest, The VTAM buffer
trace and the VTAM internal trace. Both will write GTF USR records to a
GTF trace data set. Trace records can be identified as:-</p>
<ul class="simple">
<li>Type FE1 VTAM INTERNAL TRACE</li>
<li>Type FEF VTAM BUFFER TRACE</li>
</ul>
<div class="section" id="security">
<h2>Security<a class="headerlink" href="#security" title="Permalink to this headline">¶</a></h2>
<p>To see the user data in the buffer contents of a trace record, set
CONFTXT=YES in the TSOKEY00 member of SYS1.PARMLIB before starting
TSO/VTAM.</p>
<p><strong>Start GTF</strong></p>
<p>First we need to start GTF. Use the following z/OS start command.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">S</span> <span class="n">GTF</span><span class="o">.</span><span class="n">GTF</span>
</pre></div>
</div>
<p>By default all USR records will be traced. This is specified in the
GTFPARM member of USER.PARMLIB. This member has the following
statement:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TRACE</span><span class="o">=</span><span class="n">USR</span>
</pre></div>
</div>
<p>GTF will issue a WTO. Further trace options can be specified.
Reply “U” to message AHL125A to activate the GTF trace. Here is an
example from the console log of starting up GTF:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$HASP100 GTF ON STCINRDR
IEF695I START GTF WITH JOBNAME GTF IS ASSIGNED TO USER START2
, GROUP SYS1
$HASP373 GTF STARTED
IEF403I GTF - STARTED - TIME=11.05.36
AHL121I TRACE OPTION INPUT INDICATED FROM MEMBER GTFPARM OF PDS
USER.PARMLIB
TRACE=USR
AHL103I TRACE OPTIONS SELECTED --USR
81 AHL125A RESPECIFY TRACE OPTIONS OR REPLY U
R 81,U
IEE600I REPLY TO 81 IS;U
U
AHL906I THE OUTPUT BLOCK SIZE OF 4096 WILL BE USED FOR OUTPUT 541
        DATA SETS:
                SYS1.TRACE
AHL080I GTF STORAGE USED FOR GTF DATA: 542
        GTFBLOCK STORAGE 40K BYTES (BLOK= 40K)
        PRIVATE STORAGE 1024K BYTES (SIZE= 1024K)
        SADMP HISTORY 40K BYTES (SADMP= 40K)
        SDUMP HISTORY 40K BYTES (SDUMP= 40K)
        ABEND DUMP DATA 0K BYTES (ABDUMP= 0K)
AHL031I GTF INITIALIZATION COMPLETE
</pre></div>
</div>
<p><strong>Starting the traces</strong></p>
<p>Now that GTF is running the VTAM LU tracing can be established. In this
instance we are only interested in the VTAM Buffer trace against
particular LUs. The following VTAM commands should be issued to start
tracing against those relevant VTAM logical units. In our case a session manager and TSO.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">TRACE</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">BUF</span><span class="p">,</span><span class="n">AMOUNT</span><span class="o">=</span><span class="n">FULL</span><span class="p">,</span><span class="n">ID</span><span class="o">=</span><span class="n">TSO</span>
<span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">TRACE</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">BUF</span><span class="p">,</span><span class="n">AMOUNT</span><span class="o">=</span><span class="n">FULL</span><span class="p">,</span><span class="n">ID</span><span class="o">=</span><span class="n">EMSYAS01</span>
</pre></div>
</div>
<p>Next, we need to enable VTAM to write all trace records to GTF. Issue
the following command:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">TRACE</span><span class="p">,</span><span class="n">MODE</span><span class="o">=</span><span class="n">EXT</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">VTAM</span><span class="p">,</span><span class="n">OPTION</span><span class="o">=</span><span class="n">ALL</span>
</pre></div>
</div>
<p>Note: We haven’t issues a buffer trace against the Virtel Relay node
because we haven’t yet established a session between VIRTEL and NVAS.
Virtel wouldn’t have issued a OPNDST macro against the model VTAM
definition REHVIT??? so no real LU exists. Once we connect to NVAS using
Virtel the Virtel Relay LU REHVIT000 will be establish a session and then the  trace command can be
issued.</p>
<p>Connect Virtel to NVAS and then issue the following command to buffer
trace the Virtel Relay Session.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">TRACE</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">BUF</span><span class="p">,</span><span class="n">AMOUNT</span><span class="o">=</span><span class="n">FULL</span><span class="p">,</span><span class="n">ID</span><span class="o">=</span><span class="n">REHVT000</span>
</pre></div>
</div>
<p><strong>Stopping GTF and VTAM traces</strong></p>
<p>Once the diagnostic work has been completed GTF and the traces need to
be terminated. Issue the following commands:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">P</span> <span class="n">GTF</span>                                                           <span class="o">&lt;===</span> <span class="n">Stop</span> <span class="n">GTF</span>
    <span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">NOTRACE</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">BUF</span><span class="p">,</span><span class="n">ID</span><span class="o">=</span><span class="n">x</span>                    <span class="o">&lt;===</span> <span class="n">Stop</span> <span class="n">VTAM</span> <span class="n">buffer</span> <span class="n">trace</span>
<span class="n">F</span> <span class="n">VTAM</span><span class="p">,</span><span class="n">NOTRACE</span><span class="p">,</span><span class="n">TYPE</span><span class="o">=</span><span class="n">VTAM</span>                            <span class="o">&lt;===</span> <span class="n">Stop</span> <span class="n">VTAM</span> <span class="n">tracing</span>
</pre></div>
</div>
<p><strong>Printing the trace records with IPCS</strong></p>
<p>The are two possibilities that can be considered when printing VTAM
trace records. The first is to use IPCS to print the records. This
assumes that you are set up with the necessary IPCS directory file. The
following JCL will print the VTAM trace records that have been collected
in the SYS1.TRACE GTF file.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">SPTHOLTD</span> <span class="n">JOB</span> <span class="n">ACCT</span><span class="c1">#, JOB05832</span>
<span class="o">//</span> <span class="n">SPTHOLT</span><span class="p">,</span> <span class="o">**</span><span class="n">JOB</span> <span class="n">STATEMENT</span> <span class="n">GENERATED</span> <span class="n">BY</span> <span class="n">SUBMIT</span><span class="o">**</span>
<span class="o">//</span> <span class="n">NOTIFY</span><span class="o">=</span><span class="n">SPTHOLT</span><span class="p">,</span><span class="n">CLASS</span><span class="o">=</span><span class="n">A</span><span class="p">,</span>
<span class="o">//</span> <span class="n">MSGLEVEL</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="o">//*</span> <span class="n">TRACE</span> <span class="n">TYPES</span>
<span class="o">//*</span> <span class="n">FE1</span> <span class="n">VTAM</span> <span class="n">INTERNAL</span>
<span class="o">//*</span> <span class="n">FEF</span> <span class="n">VTAM</span> <span class="n">BUFFER</span>
<span class="o">//</span><span class="n">IPCSBAT</span> <span class="n">EXEC</span> <span class="n">PGM</span><span class="o">=</span><span class="n">IKJEFT01</span><span class="p">,</span><span class="n">DYNAMNBR</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span><span class="n">REGION</span><span class="o">=</span><span class="mi">0</span><span class="n">M</span>
<span class="o">//</span><span class="n">IPCSDDIR</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">SPTHOLT</span><span class="o">.</span><span class="n">DDIR</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">IPCSPRNT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">TRACE</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">SYS1</span><span class="o">.</span><span class="n">TRACE</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">SYSTSPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSTSIN</span> <span class="n">DD</span> <span class="o">*</span>
<span class="n">IPCS</span> <span class="n">NOPARM</span>
<span class="n">DROPDUMP</span> <span class="n">DDNAME</span><span class="p">(</span><span class="n">TRACE</span><span class="p">)</span>
<span class="n">SETDEF</span> <span class="n">DDNAME</span><span class="p">(</span><span class="n">TRACE</span><span class="p">)</span> <span class="n">NOCONFIRM</span>
<span class="n">GTFTRACE</span> <span class="n">DDNAME</span><span class="p">(</span><span class="n">TRACE</span><span class="p">),</span><span class="n">USR</span><span class="p">(</span><span class="n">FEF</span><span class="p">),</span><span class="n">TERMINAL</span><span class="p">,</span><span class="n">NOPRINT</span>
<span class="n">END</span>
</pre></div>
</div>
<p><strong>An example of the IPCS Output</strong></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">USRFD</span> <span class="n">FEF</span> <span class="n">ASCB</span> <span class="mi">00</span><span class="n">FB2480</span> <span class="n">JOBN</span> <span class="n">VTAM</span>
        <span class="n">BUFF</span> <span class="n">SPNET</span><span class="o">.</span><span class="n">EMSYAS01</span> <span class="o">/</span><span class="n">SPNET</span><span class="o">.</span><span class="n">VTAM</span> <span class="n">LRC</span><span class="p">(</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">)</span> <span class="n">OUTBOUND</span> <span class="n">COMPLETE</span> <span class="n">SEGMENT</span>
        <span class="n">VTAM</span> <span class="n">TH</span><span class="o">=</span><span class="mi">40000000</span> <span class="mi">00000000</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">1</span><span class="n">C0000AD</span> <span class="mi">0001061</span><span class="n">C</span> <span class="mi">0152</span>     <span class="n">RH</span><span class="o">=</span><span class="mi">0</span><span class="n">B8000</span>
                                        <span class="mi">81060100</span> <span class="mf">4E000000</span> <span class="mi">0000002</span><span class="n">F</span> <span class="mi">010303</span><span class="n">B1</span> <span class="mi">90308000</span> <span class="o">*</span><span class="n">a</span><span class="o">...+...............*</span>
                                        <span class="mi">0787</span><span class="n">F887</span> <span class="mi">00028000</span> <span class="mi">00000018</span> <span class="mi">5000007</span><span class="n">E</span> <span class="mi">000900</span><span class="n">C4</span> <span class="o">*.</span><span class="n">g8g</span><span class="o">........&amp;..=...</span><span class="n">D</span><span class="o">*</span>
                                        <span class="n">E4D4D4E8</span> <span class="n">E2D3E404</span> <span class="n">D5E5C1E2</span> <span class="mi">0005001</span><span class="n">E</span> <span class="n">B81C90F3</span> <span class="o">*</span><span class="n">UMMYSLU</span><span class="o">.</span><span class="n">NVAS</span><span class="o">.......</span><span class="mi">3</span><span class="o">*</span>
                                        <span class="mi">08</span><span class="n">D9C5C8</span> <span class="n">E5E3F0F0</span> <span class="n">F0000000</span> <span class="mf">000E01</span><span class="n">C0</span> <span class="mi">6</span><span class="n">D000000</span> <span class="o">*.</span><span class="n">REHVT000</span><span class="o">.......</span><span class="n">_</span><span class="o">...*</span>
                                        <span class="mi">80000018</span> <span class="mi">5000007</span><span class="n">E</span> <span class="mi">40</span><span class="n">FF0000</span> <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="o">*....&amp;..=</span> <span class="o">...........*</span>
                                        <span class="mi">00000000</span> <span class="mi">00</span><span class="n">C4E4D4</span> <span class="n">D4E8D7D3</span> <span class="n">E4000000</span> <span class="mi">00000000</span> <span class="o">*.....</span><span class="n">DUMMYPLU</span><span class="o">.......*</span>
                                        <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="o">*....................*</span>
                                        <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">000</span><span class="n">D26E2</span> <span class="n">D5E7F3F2</span> <span class="o">*...............</span><span class="n">SNX32</span><span class="o">*</span>
                                        <span class="n">F7F0F240</span> <span class="mi">40404040</span> <span class="mi">40404015</span> <span class="mi">00010900</span> <span class="mi">01010102</span> <span class="o">*</span><span class="mi">702</span> <span class="o">................*</span>
                                        <span class="mi">01030104</span> <span class="mi">01050106</span> <span class="mi">01070100</span> <span class="mi">00151400</span> <span class="mi">00000</span><span class="n">B00</span> <span class="o">*....................*</span>
                                        <span class="n">AD000000</span> <span class="mb">0B0</span><span class="mf">966E2</span> <span class="n">D7D5C5E3</span> <span class="mi">4040400</span><span class="n">E</span> <span class="mi">0</span><span class="n">FF3E2D7</span> <span class="o">*.......</span><span class="n">SPNET</span> <span class="o">....</span><span class="mi">3</span><span class="n">SP</span><span class="o">*</span>
                                        <span class="n">D5C5E34B</span> <span class="n">C5D4E2E8</span> <span class="n">C1E2F0F1</span> <span class="mf">0E0</span><span class="n">FF3E2</span> <span class="n">D7D5C5E3</span> <span class="o">*</span><span class="n">NET</span><span class="o">.</span><span class="n">EMSYAS01</span><span class="o">..</span><span class="mi">3</span><span class="n">SPNET</span><span class="o">*</span>
                                        <span class="mi">4</span><span class="n">BD9C5C8</span> <span class="n">E5E3F0F0</span> <span class="n">F0160E04</span> <span class="n">D5E5C1E2</span> <span class="mi">08</span><span class="n">D9C5C8</span> <span class="o">*.</span><span class="n">REHVT000</span><span class="o">...</span><span class="n">NVAS</span><span class="o">.</span><span class="n">REH</span><span class="o">*</span>
                                        <span class="n">E5E3F0F0</span> <span class="n">F02C0A01</span> <span class="mi">08404040</span> <span class="mi">40404040</span> <span class="mi">402</span><span class="n">D0908</span> <span class="o">*</span><span class="n">VT000</span><span class="o">....</span> <span class="o">..........*</span>
                                        <span class="n">E2D5E7F3</span> <span class="n">F2F7F0F2</span> <span class="mi">6017</span><span class="n">CA7B</span> <span class="mi">8</span><span class="n">B529B42</span> <span class="mi">118</span><span class="n">B0EE2</span> <span class="o">*</span><span class="n">SNX32702</span><span class="o">-..</span><span class="c1">#.......S*</span>
                                        <span class="n">D7D5C5E3</span> <span class="mi">4</span><span class="n">BE9C1D4</span> <span class="n">F1E2E2C3</span> <span class="n">D7640C81</span> <span class="mi">060402</span><span class="n">C0</span> <span class="o">*</span><span class="n">PNET</span><span class="o">.</span><span class="n">ZAM1SSCP</span><span class="o">..</span><span class="n">a</span><span class="o">....*</span>
                                        <span class="n">A85C2F82</span> <span class="mi">02</span><span class="n">C1892F</span> <span class="mi">03038040</span> <span class="mi">3</span><span class="n">F0180</span>            <span class="o">*</span><span class="n">y</span><span class="o">*.</span><span class="n">b</span><span class="o">.</span><span class="n">Ai</span><span class="o">........</span> <span class="o">...</span> <span class="o">*</span>
        <span class="n">GMT</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">07</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.919391</span> <span class="n">LOC</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">09</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.919391</span>

<span class="n">USRFD</span> <span class="n">FEF</span> <span class="n">ASCB</span> <span class="mi">00</span><span class="n">FB2480</span> <span class="n">JOBN</span> <span class="n">VTAM</span>
        <span class="n">BUFF</span> <span class="n">SPNET</span><span class="o">.</span><span class="n">VTAM</span> <span class="o">/</span><span class="n">SPNET</span><span class="o">.</span><span class="n">EMSYAS01</span> <span class="n">LRC</span><span class="p">(</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">)</span> <span class="n">INBOUND</span> <span class="n">COMPLETE</span> <span class="n">SEGMENT</span>
        <span class="n">VTAM</span> <span class="n">TH</span><span class="o">=</span><span class="mi">40000000</span> <span class="mi">00000000</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">1</span><span class="n">C000001</span> <span class="mi">00</span><span class="n">AD061C</span> <span class="mi">0006</span>          <span class="n">RH</span><span class="o">=</span><span class="mi">8</span><span class="n">B8000</span>
                                        <span class="mi">810601</span> <span class="o">*</span><span class="n">a</span><span class="o">..</span> <span class="o">*</span>

<span class="n">GMT</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">07</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.923040</span> <span class="n">LOC</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">09</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.923040</span>

<span class="n">USRFD</span> <span class="n">FEF</span> <span class="n">ASCB</span> <span class="mi">00</span><span class="n">FB8D00</span> <span class="n">JOBN</span> <span class="n">NVAS</span>
        <span class="n">BUFF</span> <span class="n">SPNET</span><span class="o">.</span><span class="n">REHVT000</span> <span class="o">/</span><span class="n">SPNET</span><span class="o">.</span><span class="n">NVAS</span> <span class="n">LRC</span><span class="p">(</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">)</span> <span class="n">OUTBOUND</span> <span class="n">COMPLETE</span> <span class="n">SEGMENT</span>
        <span class="n">VTAM</span> <span class="n">TH</span><span class="o">=</span><span class="mi">40000000</span> <span class="mi">00000000</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">1</span><span class="n">D000966</span> <span class="mi">00</span><span class="n">ADDC9B</span> <span class="mi">0074</span>              <span class="n">RH</span><span class="o">=</span><span class="mi">6</span><span class="n">B8000</span>
                                        <span class="mi">31010303</span> <span class="n">B1903082</span> <span class="mi">008787</span><span class="n">F8</span> <span class="mi">80000280</span> <span class="mi">00000000</span> <span class="o">*.......</span><span class="n">b</span><span class="o">.</span><span class="n">gg8</span><span class="o">........*</span>
                                        <span class="mi">18500000</span> <span class="mf">7E000004</span> <span class="n">D5E5C1E2</span> <span class="mi">0005001</span><span class="n">E</span> <span class="n">B81C9008</span> <span class="o">*.&amp;..=...</span><span class="n">NVAS</span><span class="o">........*</span>
                                        <span class="n">D9C5C8E5</span> <span class="n">E3F0F0F0</span> <span class="mi">6017</span><span class="n">CA7B</span> <span class="mi">8</span><span class="n">B529B42</span> <span class="mi">118</span><span class="n">B0EE2</span> <span class="o">*</span><span class="n">REHVT000</span><span class="o">-..</span><span class="c1">#.......S*</span>
                                        <span class="n">D7D5C5E3</span> <span class="mi">4</span><span class="n">BE9C1D4</span> <span class="n">F1E2E2C3</span> <span class="n">D70E0FF3</span> <span class="n">E2D7D5C5</span> <span class="o">*</span><span class="n">PNET</span><span class="o">.</span><span class="n">ZAM1SSCP</span><span class="o">..</span><span class="mi">3</span><span class="n">SPNE</span><span class="o">*</span>
                                        <span class="n">E34BC5D4</span> <span class="n">E2E8C1E2</span> <span class="n">F0F12C0A</span> <span class="mi">01084040</span> <span class="mi">40404040</span> <span class="o">*</span><span class="n">T</span><span class="o">.</span><span class="n">EMSYAS01</span><span class="o">.........</span> <span class="o">*</span>
                                        <span class="mi">40402</span><span class="n">D09</span> <span class="mf">08E2</span><span class="n">D5E7</span> <span class="n">F3F2F7F0</span> <span class="n">F2</span>                <span class="o">*</span> <span class="o">..........</span><span class="n">SNX32702</span> <span class="o">*</span>

<span class="n">GMT</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">07</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.923780</span> <span class="n">LOC</span><span class="o">-</span><span class="mi">04</span><span class="o">/</span><span class="mi">08</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">09</span><span class="p">:</span><span class="mi">02</span><span class="p">:</span><span class="mf">10.923780</span>

<span class="n">USRFD</span> <span class="n">FEF</span> <span class="n">ASCB</span> <span class="mi">00</span><span class="n">FB8D00</span> <span class="n">JOBN</span> <span class="n">NVAS</span>
        <span class="n">BUFF</span> <span class="n">SPNET</span><span class="o">.</span><span class="n">NVAS</span> <span class="o">/</span><span class="n">SPNET</span><span class="o">.</span><span class="n">REHVT000</span> <span class="n">LRC</span><span class="p">(</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">)</span> <span class="n">INBOUND</span> <span class="n">COMPLETE</span> <span class="n">SEGMENT</span>
        <span class="n">VTAM</span> <span class="n">TH</span><span class="o">=</span><span class="mi">40000000</span> <span class="mi">00000000</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">0000000</span><span class="n">B</span> <span class="mi">1</span><span class="n">D0000AD</span> <span class="mi">0966</span><span class="n">DC9B</span> <span class="mi">003</span><span class="n">B</span>      <span class="n">RH</span><span class="o">=</span><span class="n">EB8000</span>
                                        <span class="mi">31010000</span> <span class="mi">00000002</span> <span class="mi">008087</span><span class="n">F8</span> <span class="mi">80000000</span> <span class="mi">00000000</span> <span class="o">*..........</span><span class="n">g8</span><span class="o">........*</span>
                                        <span class="mi">00000000</span> <span class="mi">00000000</span> <span class="mi">00000060</span> <span class="mi">17</span><span class="n">CA7B8B</span> <span class="mi">529</span><span class="n">B4211</span> <span class="o">*...........-..</span><span class="c1">#.....*</span>
                                        <span class="mi">8</span><span class="n">B0EE2D7</span> <span class="n">D5C5E34B</span> <span class="n">E9C1D4F1</span> <span class="n">E2E2C3D7</span>          <span class="o">*..</span><span class="n">SPNET</span><span class="o">.</span><span class="n">ZAM1SSCP</span><span class="o">...</span> <span class="o">*</span>
</pre></div>
</div>
<p><strong>Using ACFTAP</strong></p>
<p>ACFTAP is a program distributed by IBM and can be found in SYS1.MIGLIB.
It is used to process VTAM USR records in a GTF file. The following is
an example of the JCL used to run the ACFTAP program. This can be found
in SYS1.SAMPLIB.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">ACFTAP</span> <span class="n">JCL</span> <span class="n">Example</span>

<span class="o">//</span><span class="n">SPTHOLTA</span> <span class="n">JOB</span> <span class="mi">1</span><span class="p">,</span><span class="n">ASMSCEN</span><span class="p">,</span><span class="n">MSGCLASS</span><span class="o">=</span><span class="n">X</span><span class="p">,</span><span class="n">CLASS</span><span class="o">=</span><span class="n">A</span><span class="p">,</span><span class="n">NOTIFY</span><span class="o">=&amp;</span><span class="n">SYSUID</span>
<span class="o">//</span><span class="n">ACFTAP</span> <span class="n">PROC</span>
<span class="o">//</span><span class="n">ACFTAP</span> <span class="n">EXEC</span> <span class="n">PGM</span><span class="o">=</span><span class="n">ACFTAP</span><span class="p">,</span><span class="n">REGION</span><span class="o">=</span><span class="mi">1</span><span class="n">M</span>
<span class="o">//</span><span class="n">STEPLIB</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">SYS1</span><span class="o">.</span><span class="n">MIGLIB</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">SORTLIB</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">SYS1</span><span class="o">.</span><span class="n">SORTLIB</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">SORTIN</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;&amp;</span><span class="n">SORTI</span><span class="p">,</span><span class="n">UNIT</span><span class="o">=</span><span class="mi">3390</span><span class="p">,</span>
<span class="o">//</span> <span class="n">SPACE</span><span class="o">=</span><span class="p">(</span><span class="n">CYL</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span><span class="n">DISP</span><span class="o">=</span><span class="p">(</span><span class="n">NEW</span><span class="p">,</span><span class="n">DELETE</span><span class="p">),</span>
<span class="o">//</span> <span class="n">DCB</span><span class="o">=</span><span class="p">(</span><span class="n">RECFM</span><span class="o">=</span><span class="n">F</span><span class="p">,</span><span class="n">LRECL</span><span class="o">=</span><span class="mi">364</span><span class="p">,</span><span class="n">BLKSIZE</span><span class="o">=</span><span class="mi">364</span><span class="p">)</span>
<span class="o">//</span><span class="n">SORTOUT</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;&amp;</span><span class="n">SORTO</span><span class="p">,</span><span class="n">UNIT</span><span class="o">=</span><span class="mi">3390</span><span class="p">,</span>
<span class="o">//</span> <span class="n">SPACE</span><span class="o">=</span><span class="p">(</span><span class="n">CYL</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span><span class="n">DISP</span><span class="o">=</span><span class="p">(</span><span class="n">NEW</span><span class="p">,</span><span class="n">DELETE</span><span class="p">),</span>
<span class="o">//</span> <span class="n">DCB</span><span class="o">=</span><span class="p">(</span><span class="n">RECFM</span><span class="o">=</span><span class="n">F</span><span class="p">,</span><span class="n">LRECL</span><span class="o">=</span><span class="mi">364</span><span class="p">,</span><span class="n">BLKSIZE</span><span class="o">=</span><span class="mi">364</span><span class="p">)</span>
<span class="o">//</span><span class="n">SORTWK01</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;&amp;</span><span class="n">TEMPD5</span><span class="p">,</span><span class="n">UNIT</span><span class="o">=</span><span class="mi">3390</span><span class="p">,</span>
<span class="o">//</span> <span class="n">SPACE</span><span class="o">=</span><span class="p">(</span><span class="n">CYL</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">),,</span><span class="n">CONTIG</span><span class="p">),</span>
<span class="o">//</span> <span class="n">DISP</span><span class="o">=</span><span class="p">(</span><span class="n">NEW</span><span class="p">,</span><span class="n">DELETE</span><span class="p">)</span>
<span class="o">//</span><span class="n">SYSTEMP1</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;&amp;</span><span class="n">SORT1</span><span class="p">,</span><span class="n">UNIT</span><span class="o">=</span><span class="mi">3390</span><span class="p">,</span>
<span class="o">//</span> <span class="n">SPACE</span><span class="o">=</span><span class="p">(</span><span class="n">CYL</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span><span class="n">DISP</span><span class="o">=</span><span class="p">(</span><span class="n">NEW</span><span class="p">,</span><span class="n">DELETE</span><span class="p">),</span>
<span class="o">//</span> <span class="n">DCB</span><span class="o">=</span><span class="p">(</span><span class="n">RECFM</span><span class="o">=</span><span class="n">F</span><span class="p">,</span><span class="n">LRECL</span><span class="o">=</span><span class="mi">284</span><span class="p">,</span><span class="n">BLKSIZE</span><span class="o">=</span><span class="mi">284</span><span class="p">)</span>
<span class="o">//</span><span class="n">SYSTEMP2</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;&amp;</span><span class="n">SORT2</span><span class="p">,</span><span class="n">UNIT</span><span class="o">=</span><span class="mi">3390</span><span class="p">,</span>
<span class="o">//</span> <span class="n">SPACE</span><span class="o">=</span><span class="p">(</span><span class="n">CYL</span><span class="p">,(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">)),</span><span class="n">DISP</span><span class="o">=</span><span class="p">(</span><span class="n">NEW</span><span class="p">,</span><span class="n">DELETE</span><span class="p">),</span>
<span class="o">//</span> <span class="n">DCB</span><span class="o">=</span><span class="p">(</span><span class="n">RECFM</span><span class="o">=</span><span class="n">F</span><span class="p">,</span><span class="n">LRECL</span><span class="o">=</span><span class="mi">284</span><span class="p">,</span><span class="n">BLKSIZE</span><span class="o">=</span><span class="mi">284</span><span class="p">)</span>
<span class="o">//</span><span class="n">SYSLDPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSLSPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSGSPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSSDPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSSSPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSNEPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSDTPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSVTPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSLUPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSPRINT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSIXPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSNTPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSNPPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSCSPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSCAPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSFRPRT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSTRACE</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">SYS1</span><span class="o">.</span><span class="n">TRACE</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">SYSOUT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span> <span class="n">PEND</span>
<span class="o">//</span><span class="n">STEP1</span> <span class="n">EXEC</span> <span class="n">ACFTAP</span>
<span class="o">//</span><span class="n">SYSIN</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=</span><span class="n">USER</span><span class="o">.</span><span class="n">PARMLIB</span><span class="p">(</span><span class="n">ACFTAP</span><span class="p">),</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
</pre></div>
</div>
<p><strong>ACFTAP Reports</strong></p>
<p>ACFTAP has several different reports. It is best to set up a PARMLIB
member and read the ACFTAP control statements from there. This way you
have control over what reports to print.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Member</span> <span class="n">ACFTAP</span> <span class="ow">in</span> <span class="n">USER</span><span class="o">.</span><span class="n">PARMLIB</span>

<span class="n">SSPRT</span><span class="o">=</span><span class="n">YES</span>
<span class="n">NEPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">SUMMARY</span><span class="o">=</span><span class="n">NO</span>
<span class="n">LSPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">RRSUP</span><span class="o">=</span><span class="n">NO</span>
<span class="n">GSPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">CSPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">CAPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">PRINT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">DTPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">SDPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">VTPRT</span><span class="o">=</span><span class="n">NO</span>
<span class="n">LONGPIU</span><span class="o">=</span><span class="n">YES</span>
<span class="n">GO</span>
<span class="n">QUIT</span>
</pre></div>
</div>
<p>Some examples of reports that can be produced by ACFTAP follow:-</p>
<p><img alt="image2" src="../../../_images/image21.png" />
Fig.1 - Example of SDPRT report.</p>
<p><img alt="image2" src="../../../_images/image21.png" />
Fig.2 - Example of SDPRT report.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../TN201411/TN201411.html" class="btn btn-neutral float-right" title="Building a customized USSTAB using Virtel’s Web Access facility" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../TN201409/TN201409.html" class="btn btn-neutral" title="Mainframe printing with Virtel 4.56" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Syspertec. All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>