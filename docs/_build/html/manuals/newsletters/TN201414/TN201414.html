

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CICS Printing problem &mdash; Virtel 7 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Virtel JES Writer program" href="../TN201415/TN201415.html" />
    <link rel="prev" title="Overview of a Virtel Session" href="../TN201413/TN201413.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Virtel
          

          
            
            <img src="../../../_static/logo_virtel_web.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.57
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../virtel.html">Virtel Manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../newsletters.html">Technical Newsletters</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../newsletters.html#id1">2014</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../TN201406/TN201406.html">Taking a VIRTEL terminal trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201407/TN201407.html">Pass tickets and supporting Proxy Servers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201409/TN201409.html">Mainframe printing with Virtel 4.56</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201410/TN201410.html">Taking a VTAM trace</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201411/TN201411.html">Building a customized USSTAB using Virtel’s Web Access facility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201412/TN201412.html">Sharing user macros across multiple instances of Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201413/TN201413.html">Overview of a Virtel Session</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">CICS Printing problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201415/TN201415.html">Virtel JES Writer program</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201416/TN201416.html">Virtel Security. Using server and client certificates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201417/TN201417.html">RACF Grouping Class and Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201419/TN201419.html">Maintaining TRSF file sets</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id2">2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id3">2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id4">2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id5">2018</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id6">2019</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Virtel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../newsletters.html">Technical Newsletters</a> &raquo;</li>
        
      <li>CICS Printing problem</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/manuals/newsletters/TN201414/TN201414.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cics-printing-problem">
<span id="tn201414"></span><h1>CICS Printing problem<a class="headerlink" href="#cics-printing-problem" title="Permalink to this headline">¶</a></h1>
<p>The following is a CICS log which highlights the problem of CICS
printing with Virtel.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NQNAME</span> <span class="o">**</span><span class="n">EHS0</span><span class="o">**</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">35</span><span class="p">:</span><span class="mi">51</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHIM000</span> <span class="o">**</span><span class="n">Entry</span> <span class="mi">1</span> <span class="o">**</span>
<span class="n">DFHZC3461</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">01</span> <span class="n">SPCICSH</span> <span class="n">EHT0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHVT000</span> <span class="n">session</span> <span class="n">started</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZOPX</span><span class="p">)</span>
<span class="n">NQNAME</span> <span class="n">EHT0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">01</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHVT000</span>
<span class="n">DFHSN1100</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">01</span> <span class="n">SPCICSH</span> <span class="n">Signon</span> <span class="n">at</span> <span class="n">netname</span> <span class="n">REHVT000</span> <span class="n">by</span> <span class="n">user</span> <span class="n">SPTHOLT</span> <span class="ow">in</span> <span class="n">group</span> <span class="n">SPGPTECH</span> <span class="ow">is</span> <span class="n">complete</span><span class="o">.</span>
<span class="n">DFHZC3461</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">13</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="n">session</span> <span class="n">started</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZOPX</span><span class="p">)</span>

<span class="n">NQNAME</span> <span class="o">**</span><span class="n">EHS0</span><span class="o">**</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">13</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHIM000</span> <span class="o">**</span><span class="n">Entry</span> <span class="mi">2</span><span class="o">**</span>
<span class="n">DFHZC2410</span> <span class="n">E</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHT0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">Unrecoverable</span><span class="o">.</span> <span class="n">VTAM</span> <span class="n">LOSTERM</span> <span class="n">Error</span> <span class="n">Code</span> <span class="n">X</span><span class="s1">&#39;14&#39;</span><span class="o">.</span> <span class="p">((</span><span class="mi">1</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZLTX</span><span class="p">)</span>
<span class="n">DFHZC3437</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHT0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHVT000</span> <span class="n">action</span> <span class="n">taken</span><span class="p">:</span> <span class="n">NOCREATE</span> <span class="n">CLSDST</span> <span class="n">ABTASK</span> <span class="n">ABSEND</span> <span class="n">ABRECV</span> <span class="p">((</span><span class="mi">1</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZNAC</span><span class="p">)</span>
<span class="n">DFHZC3424</span> <span class="n">E</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="o">**</span><span class="n">EHS0</span><span class="o">**</span> <span class="n">CSNE</span> <span class="n">Session</span> <span class="n">failure</span><span class="o">.</span> <span class="n">Session</span> <span class="n">terminated</span> <span class="n">immediately</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZNSP</span><span class="p">)</span>

<span class="n">NQNAME</span> <span class="n">EHS0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHIM000</span> <span class="o">**</span><span class="n">Entry</span> <span class="mi">3</span> <span class="o">**</span>
<span class="n">DFHZC3437</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="o">**</span><span class="n">action</span><span class="o">**</span> <span class="n">taken</span><span class="p">:</span> <span class="n">CLSDST</span> <span class="n">ABTASK</span> <span class="n">ABSEND</span> <span class="n">ABRECV</span> <span class="o">**</span><span class="n">SIMLOGON</span><span class="o">**</span> <span class="p">((</span><span class="mi">1</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span><span class="n">DFHZNAC</span><span class="p">)</span>
<span class="n">DFHZC3462</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="n">session</span> <span class="n">terminated</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZCLS</span><span class="p">)</span> <span class="n">NQNAME</span> <span class="n">EHS0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHIM000</span>
<span class="n">DFHSN1200</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">Signoff</span> <span class="n">at</span> <span class="n">netname</span> <span class="n">REHVT000</span> <span class="n">by</span> <span class="n">user</span> <span class="n">SPTHOLT</span> <span class="ow">is</span> <span class="n">complete</span><span class="o">.</span> <span class="mi">1</span> <span class="n">transactions</span> <span class="n">entered</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">errors</span><span class="o">.</span>
<span class="n">DFHZC3462</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHT0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHVT000</span> <span class="n">session</span> <span class="n">terminated</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZCLS</span><span class="p">)</span>

<span class="n">NQNAME</span> <span class="n">EHT0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHVT000</span> <span class="o">**</span><span class="n">Entry</span> <span class="mi">4</span><span class="o">**</span>
<span class="n">DFHZC2405</span> <span class="n">E</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="ow">not</span> <span class="n">activated</span><span class="o">.</span> <span class="n">VTAM</span> <span class="n">RETURN</span> <span class="n">CODE</span> <span class="mi">1000</span> <span class="p">((</span><span class="mi">6</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZSYX</span><span class="p">)</span>
<span class="n">DFHZC3437</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="o">**</span><span class="n">action</span><span class="o">**</span> <span class="n">taken</span><span class="p">:</span> <span class="o">**</span><span class="n">NOCREATE</span><span class="o">**</span> <span class="n">CLSDST</span> <span class="n">ABTASK</span> <span class="n">ABSEND</span> <span class="n">ABRECV</span> <span class="p">((</span><span class="mi">1</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZNAC</span><span class="p">)</span>
<span class="n">DFHZC3462</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="n">session</span> <span class="n">terminated</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZCLS</span><span class="p">)</span> <span class="n">NQNAME</span> <span class="n">EHS0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">30</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHIM000</span>
<span class="n">DFHZC3461</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span> <span class="n">SPCICSH</span> <span class="n">EHT0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHVT000</span> <span class="n">session</span> <span class="n">started</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZOPX</span><span class="p">)</span>

<span class="n">NQNAME</span> <span class="n">EHT0</span><span class="p">,</span><span class="n">CSNE</span><span class="p">,</span><span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span><span class="p">,</span><span class="n">SPNET</span> <span class="n">REHVT000</span> <span class="o">**</span><span class="n">Entry</span> <span class="mi">5</span> <span class="o">**</span>
<span class="n">DFHSN1100</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span> <span class="n">SPCICSH</span> <span class="n">Signon</span> <span class="n">at</span> <span class="n">netname</span> <span class="n">REHVT000</span> <span class="n">by</span> <span class="n">user</span> <span class="n">SPTHOLT</span> <span class="ow">in</span> <span class="n">group</span> <span class="n">SPGPTECH</span> <span class="ow">is</span> <span class="n">complete</span><span class="o">.</span>
<span class="n">DFHZC2405</span> <span class="n">E</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="ow">not</span> <span class="n">activated</span><span class="o">.</span> <span class="n">VTAM</span> <span class="n">RETURN</span> <span class="n">CODE</span> <span class="mi">1000</span> <span class="p">((</span><span class="mi">6</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZSYX</span><span class="p">)</span>
<span class="n">DFHZC3437</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="n">action</span> <span class="n">taken</span><span class="p">:</span> <span class="n">NOCREATE</span> <span class="n">CLSDST</span> <span class="n">ABTASK</span> <span class="n">ABSEND</span> <span class="n">ABRECV</span> <span class="p">((</span><span class="mi">1</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZNAC</span><span class="p">)</span>
<span class="n">DFHZC3462</span> <span class="n">I</span> <span class="mi">07</span><span class="o">/</span><span class="mi">01</span><span class="o">/</span><span class="mi">2014</span> <span class="mi">15</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">20</span> <span class="n">SPCICSH</span> <span class="n">EHS0</span> <span class="n">CSNE</span> <span class="n">Node</span> <span class="n">REHIM000</span> <span class="n">session</span> <span class="n">terminated</span><span class="o">.</span> <span class="p">((</span><span class="mi">2</span><span class="p">)</span> <span class="n">Module</span> <span class="n">name</span><span class="p">:</span> <span class="n">DFHZCLS</span><span class="p">)</span>
</pre></div>
</div>
<p>Scenario:</p>
<p><strong>Entry 1</strong></p>
<p>Logon to CICS via Virtel, perform a CICS print transaction –
CMSG for example. Virtel printer is acquired (EHS0) and print is
successful.</p>
<p><strong>Entry 2</strong></p>
<p>Virtel session is closed. This causes a session failure for
relay terminals associated with the CICS definitions EHS0/EHT0. LOSTTERM
exit driven for terminal EHT0 but not for printer EHS0. CICS behaviour
is different for printers; this is the cause of the problem.</p>
<p><strong>Entry 3</strong></p>
<p>The ACTION to be taken by CICS for the ESH0’s session failure
includes SIMLOGON. CICS tries to reconnect the printer to the VIRTEL
application. Of course the VIRTEL relay application REHIM000 has gone so
this fails.</p>
<p><strong>Entry 4</strong></p>
<p>The failure of the SIMLOGON returns a VTAM RC 1000. The ACTION
that CICS now takes with regard to EHS0 is NOCREATE which places the
printer in a REL state. Any further print requests will fail.</p>
<p><strong>Entry 5</strong></p>
<p>A new session is started. The terminal EHT0 successfully
connects with CICS but the printer fails. VTAM return code 1000 plus
action of NOCREATE.</p>
<p>This situation will remain until the printer is reset.</p>
<p><strong>How to reset the printer.</strong></p>
<p>The easiest method is to issue a CICS command CEMT I (EHS0) and place
the printer back in session.</p>
<p>The following Screen Images capture this process.</p>
<p>Logon to CICS and issue CEMT I (EHS0) or whatever CICS definition you
have that relates to the printer. The following display will be the
status of the printer after disconnecting from Virtel. This printer will
not accept more print request.</p>
<blockquote>
<div><p><a class="reference internal" href="../../../_images/image1.png"><img alt="image0" src="../../../_images/image1.png" style="width: 6.30000in; height: 5.51528in;" /></a></p>
</div></blockquote>
<p>Tab down until the cursor is next to the Ter line and press enter. You
will then see the full terminql display. Notice that the Createsess
parameter is set to NoCreate. This is why there is no printing.</p>
<p><a class="reference internal" href="../../../_images/image210.png"><img alt="image1" src="../../../_images/image210.png" style="width: 6.30000in; height: 5.51389in;" /></a></p>
<p>Change this to create and press enter; PF3 and then press Enter to
reissue the CEMT command. The printer display should look like this:-</p>
<p><a class="reference internal" href="../../../_images/image37.png"><img alt="image2" src="../../../_images/image37.png" style="width: 6.30000in; height: 0.97778in;" /></a></p>
<p>Virtel will now be able to print to using this printer terminal with the
CMSG command.</p>
<p><strong>How to fix the problem.</strong></p>
<p>There are several solutions to this:-</p>
<p>This first is not to terminate your Virtel session, particularly during
a demo, as you will expose the problem. Of course if this does occur you
can manually put the terminal back into CRE mode by following the
instructions above.</p>
<p>A second option and more long term is to create a DFHZNEP module,
assemble it, and place it in a CICS load library. This will prevent the
SIMLOGON taking place following a Session failure. Example code
follows:–</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>*ASM XOPTS(NOPROLOG NOEPILOG)
         TITLE &#39;CICS NODE ERROR PROGRAM&#39;
         DFHSNEP TYPE=INITIAL,NAME=DFHZNEP,CS=NO
         DFHSNEP TYPE=ERRPROC,GROUP=4,CODE=(5C)
***********************************************************************
* NEPROC04
***********************************************************************
* THE GROUP 4 ERRPROC WILL HANDLE RETURN CODES 5C (SESSION FAILURE),
* ON EACH OCCASION WHERE TWAEC IS EQUAL TO X&#39;5C&#39; WE WILL TURN OFF
* THE SIMLOGON SPECIFICATION.
*                             SYMBOLIC LABEL TCZNSP02
* DFH3424 (SESSION FAILURE)   OCCURS WITH TWAEC SET TO X&#39;5C&#39;
***********************************************************************
EP4BASE EQU R8 BASE REGISTER
         USING NEPROC04,EP4BASE        ESTABLISH BASE
         ST CSVTBAR,NEPEPRS            SAVE RETURN REGISTER
         LR EP4BASE,EPBAR              LOAD BASE REGISTER
         CLI TWAEC,TCZNSP02            DFHZC3424 SESSION FAILURE?
         BNE NEP04RET                  NO, GET OUT
         NI TWAOPT2,X&#39;FF&#39;-TWAOASM      TURN OFF SIMLOGON
NEP04RET DS 0H
         L CSVTBAR,NEPEPRS             RESTORE LINK REGISTER
         BR CSVTBAR                    RETURN
***********************************************************************
         DFHSNEP TYPE=FINAL
         END DFHNEPNA
</pre></div>
</div>
<p>The third option, and probably the most common solution, is to create a
CICS AUTOLOGON session which monitors terminals every thirty seconds and
places them back into their correct status. Most shops tend to have
these AUTOLOGON operators running under CICS for this very purpose.
Check with your CICS SysProg as it could be the case that the solution
is in hand and therefore this situation wouldn’t occur very often.</p>
<p><strong>Virtel setup</strong></p>
<p>For this test we used the C-HHTP line, recommended customer default, on
port 41002.</p>
<p><a class="reference internal" href="../../../_images/image42.png"><img alt="image3" src="../../../_images/image42.png" style="width: 6.30000in; height: 4.23056in;" /></a></p>
<p>The default entry point looks like this:-</p>
<p><a class="reference internal" href="../../../_images/image56.png"><img alt="image4" src="../../../_images/image56.png" style="width: 6.30000in; height: 4.30347in;" /></a></p>
<p>And the transaction we are using is CICS which has the following
definition CLI-10</p>
<p><a class="reference internal" href="../../../_images/image612.png"><img alt="image5" src="../../../_images/image612.png" style="width: 6.30000in; height: 4.26667in;" /></a></p>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../TN201415/TN201415.html" class="btn btn-neutral float-right" title="Virtel JES Writer program" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../TN201413/TN201413.html" class="btn btn-neutral float-left" title="Overview of a Virtel Session" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Syspertec. All rights reserved

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>