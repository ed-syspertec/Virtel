

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>What’s new in Virtel 4.57 (July 2017) &mdash; Virtel 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../../genindex.html"/>
        <link rel="search" title="Search" href="../../../search.html"/>
    <link rel="top" title="Virtel 1 documentation" href="../../../index.html"/>
        <link rel="up" title="Technical Newsletters" href="../../../newsletters.html"/>
        <link rel="next" title="Miscellaneous" href="../../../howto.html"/>
        <link rel="prev" title="Printing PCL files with NodeJS" href="../TN201705/TN201705     .html"/> 

  
  <script src="../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../index.html" class="icon icon-home"> Virtel
          

          
            
            <img src="../../../_static/logo_virtel_web.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../virtel.html">Virtel Manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../newsletters.html">Technical Newsletters</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id1">2014</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id2">2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id3">2016</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../newsletters.html#id4">2017</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../TN201701/TN201701.html">Protecting business assets</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201702/TN201702.html">Protecting Virtel Applications with Shibboleth</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201703/TN201703.html">Passticket support with CA Top Secret</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201704/TN201704.html">Virtel Macros</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201705/TN201705     .html">Printing PCL files with NodeJS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">What’s new in Virtel 4.57 (July 2017)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#migration-considerations">Migration considerations</a></li>
<li class="toctree-l4"><a class="reference internal" href="#presentation">Presentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#base-components">Base components</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installation-and-sample-members">Installation and Sample members</a></li>
<li class="toctree-l4"><a class="reference internal" href="#virtel-web-administration">Virtel Web Administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scenario-language">Scenario Language</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../howto.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">Virtel</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../newsletters.html">Technical Newsletters</a> &raquo;</li>
      
    <li>What’s new in Virtel 4.57 (July 2017)</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/manuals/newsletters/TN201706/TN201706     .rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="whats-new-in-virtel-4-57-july-2017">
<span id="tn201706"></span><h1>What’s new in Virtel 4.57 (July 2017)<a class="headerlink" href="#whats-new-in-virtel-4-57-july-2017" title="Permalink to this headline">¶</a></h1>
<p>The following newsletter itemises the updates that can be found in Virtel Release 4.57.</p>
<div class="section" id="migration-considerations">
<h2>Migration considerations<a class="headerlink" href="#migration-considerations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="option-mode-and-compatibility-mode">
<h3>Option mode and Compatibility mode<a class="headerlink" href="#option-mode-and-compatibility-mode" title="Permalink to this headline">¶</a></h3>
<p>As of Virtel 4.56 two modes of customisation are available, the ‘option
mode’ and the older ‘compatibility’ mode. The new ‘option’ mode enables better granularity in setting options and customization. As of Virtel V4.56 this is the preferred mode for Virtel customisation. By default, neither mode is active. Certain steps must be followed to activate either &#8220;compatibility&#8221; or &#8220;option&#8221; mode. As distributed Virtel will use programmatically set defaults and search for customization elements from the W2H directories. See the default transactions shipped with Virtel for custom.js, custom.css, w2hparm.js elements.</p>
<p>The previous “Compatibility “ mode is still supported. But requires users to re-assemble their TCTs with the ‘Option-default-compatibility’ keyword in the TCT. This will maintain previous customised behaviour for the custom.css, w2hparm.js and custom.js files.</p>
<p><em>TCT keyword for compatibility mode</em></p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">HTSETn</span> <span class="o">=</span> <span class="p">(</span><span class="n">OPTION</span><span class="o">-</span><span class="n">DEFAULT</span><span class="o">-</span><span class="n">COMPATIBILITY</span><span class="p">)</span> <span class="o">/*</span> <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="mi">4</span> <span class="o">*/</span>
</pre></div>
</div>
<p>The new “option” mode enables customization at a transaction level as well as the more global entry point or line level. The logic of using CLI-DIR to store customised versions of custom.js, w2hparm.js, custom.css etc. in the CLI-DIR has been deprecated as of release V4.56. To operate in &#8220;option mode&#8221; requires changes to the ARBO file with the additional of two new transactions to support the &#8220;option&#8221; pathname. See the ARBOLOAD (Option=YES) or ARBOMIGR in the SAMPLIB file for details on how to include these new transactions.</p>
<p>Customers are advised to migrate old customisation elements to the new
“option” mode enabling those elements to be located through the use of
the /option/ pathname. Two new transactions have been added to support
the /option/ pathname. See the <a class="reference internal" href="../../virtel/Virtel457UG/User_Guide.html#v457ug-customizing-with-option"><span class="std std-ref">Virtel Users Guide, Customizing Virtel using the Option mode.</span></a>.</p>
<p>Further details can also be found in the Virtel technical newsletter <a class="reference internal" href="../TN201611/TN201611.html#tn201611"><span class="std std-ref">TN2016-11 Customising Virtel in V4.56</span></a>.</p>
<div class="admonition danger">
<p class="first admonition-title">Danger</p>
<p class="last">Customers who have customized elements in the W2H-DIR stand the risks of having these overwritten by subsequent maintenance and Virtel release updates.</p>
</div>
</div>
</div>
<div class="section" id="presentation">
<h2>Presentation<a class="headerlink" href="#presentation" title="Permalink to this headline">¶</a></h2>
<p><strong>5447 Option to align W2H page LEFT or CENTER</strong></p>
<p>New Display Option in the “Miscellaneous” settings page to allow left
alignment of the W2H page. This may be useful when no monospace font is
available. Aligning LEFT may give a better appearance to the page as
compared to the default where each line is centred. When the font is not
exactly monospace, lines may not have the same length and vertical
alignments may be lost.</p>
<p><strong>5453 Add CSS rules for old versions of IE8</strong></p>
<p>Added CSS rules for older versions of IE where the logo&#8217;s display codes
for the new graphics were not displayed with the correct size.</p>
<p><strong>5469 Customizable HELP solution</strong></p>
<p>Help panels can now be customized using the /option/pathToHelp key of
“option customisation” mode.</p>
<p><strong>5477 Option to switch R2L or L2R</strong></p>
<p>A new display option in the miscellaneous settings panel to define how
text is displayed in the W2H page. The options are “Right to Left” or
“Left to Right (Default)”.</p>
<p>As an example in Hebrew, locale text support is detected and determined
by the browser, the browser may try to display lines of text from right
to left. This may not be what is required. Using this option, the user
will be able to override the default Locale behaviour and force the
display of Hebrew from left to right.</p>
<p><strong>5482 Provide a control to switch &#8220;write mode&#8221;</strong></p>
<p>When the &#8216;Bidirectional Data &#8216; option is set, the key combination &#8216;Alt +
Shift&#8217; will switch the writing mode to Between “L2R” and “R2L”:</p>
<p>The indicator &#8216;&lt;&#8217; will appear on right of the status line. All text
input (Hebrew or otherwise) will progress from right to left. Tabbing
into a field will go to the end of the field, not the start. If “R2L”
input reaches the start of the field, it remains there.</p>
<p><strong>5481 New “BiDirectional” Option</strong></p>
<p>The new BiDirectional option will now trigger the CSS unicodeBidi =
&#8220;bidi-override&#8221; style on the Virtel “printReady” HTML Div template. This
options enables user to have control on how text alignment should be
set. Right of the page or Left of the Page. This replaces the “Right to
Left” option of modification 5477.</p>
<p><a class="reference internal" href="../../../_images/image147.png"><img alt="image0" src="../../../_images/image147.png" style="width: 3.52851in; height: 5.30278in;" /></a></p>
<p>Figure 1 - BiDirectional Data Option</p>
<p><strong>5501 Arabic support - Reverse screen display option.</strong></p>
<p>The “Alt-ENTER key” combination can globally switch the screen display
from &#8216;left to right&#8217; to &#8216;right to left&#8217; and return. This is the way some
countries support 3270 Arabic.</p>
<p>Note:-</p>
<ul class="simple">
<li>The Alt-ENTER is active only if the &#8216;Bidirectional data&#8217; Display
option is set.</li>
<li>The Alt-ENTER key may be unset by going to w2h key mappings options.</li>
<li>The w2hparm.mirrorMode may be set in a w2hparm.js file to preset the
option:-</li>
</ul>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">w2hparm</span><span class="o">.</span><span class="n">mirrorMode</span> <span class="o">=</span> <span class="n">true</span>
</pre></div>
</div>
<p><strong>5504 continuing=&#8221;YES&#8221; attribute to indicate a split input field</strong></p>
<p>Adds an attribute &#8216;continuing=&#8221;YES&#8221;&#8217; to a W2H SPAN for a 3270 field when
it is the continuation of a field. For example when the 3270 continues
after the end of a line and/or the screen.</p>
<p>Example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">pre</span><span class="o">&gt;&lt;</span><span class="n">div</span> <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;printReady&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;mainFont&quot;</span><span class="o">&gt;&lt;</span><span class="n">span</span> <span class="n">vt</span><span class="o">=</span><span class="s2">&quot;I&quot;</span> <span class="n">continuing</span><span class="o">=</span><span class="s2">&quot;YES&quot;</span> <span class="n">vp</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="n">vr</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">vc</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">vl</span><span class="o">=</span><span class="s2">&quot;1760&quot;</span> <span class="n">vn</span><span class="o">=</span><span class="s2">&quot;V0000000&quot;</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;NGREEN2&quot;</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="base-components">
<h2>Base components<a class="headerlink" href="#base-components" title="Permalink to this headline">¶</a></h2>
<p><strong>5456 RACHECK on ForceLUNAME</strong></p>
<p>Use RACF to validate the name of a LU specified on the ForceLUNAME
parameter. The TCT keyword RTERM= has been added.</p>
<p>Example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>RTERM=class (class=resource class for terminals - Facility)
</pre></div>
</div>
<p>In the entry point definition specify an “X” in the Mandatory
Identification field:-</p>
<p><a class="reference internal" href="../../../_images/image235.png"><img alt="image1" src="../../../_images/image235.png" style="width: 6.26806in; height: 3.78125in;" /></a></p>
<p>Figure 2 - RTERM security class</p>
<p>As before, the targeted transactions should have $LINE$ specified for
the Pseudo-terminals field and the line should have a defined Pool
entry, for example *MYPOOL. Also note that transaction needs to be
defined with a non-zero security setting for the security to be
involved.</p>
<p>See the <a class="reference internal" href="../../virtel/Virtel457CN/connectivity_guide.html#virtel457cn"><span class="std std-ref">Virtel Connectivity Guide</span></a> for further information.</p>
<p><strong>5439 Mixed Case Passwords by VIRTCT parameter.</strong></p>
<p><strong>5444 RACROUTE,TOPS Mixed Case Passwords.</strong></p>
<p>This extends 4196 RACF mixed-case passwords to allow specifying, through
a VIRTCT parameter, that passwords should not be uppercased before
SIGNON. A new sub-parameter &#8216;MIXEDCASE&#8217; of the TCT SECUR= parameter has
been added. This update also transposes update 4196 RACF mixed-case
passwords to Top Secret to allow automatic detection of mixed case
support.</p>
<p>Example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">SECUR</span><span class="o">=</span><span class="p">(</span><span class="n">RACROUTE</span><span class="p">,</span><span class="n">MIXEDCASE</span><span class="p">),</span>
</pre></div>
</div>
<p>New Messages:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">VIR08x3I</span> <span class="n">MIXED</span><span class="o">-</span><span class="n">CASE</span> <span class="n">PASSWORD</span> <span class="n">SUPPORT</span> <span class="n">IS</span> <span class="n">ACTIVE</span>
</pre></div>
</div>
<p>Indicates MIXEDCASE option has been set by user. X = 4 for Top Secret
and 6 for RACF.</p>
<p><strong>5443 IBM1160 and IBM0838 character set table for Thailand</strong></p>
<p>New external modules IBM0838 and IBM1160. IBM1160 contains the euro sign
where IBM0838 does not.</p>
<p>Example in the TCT code:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CHARSET</span><span class="o">=</span><span class="p">(</span><span class="n">IBM0838</span><span class="p">,</span><span class="n">IBM1160</span><span class="p">),</span> <span class="o">*</span> <span class="n">load</span> <span class="n">Thai</span> <span class="n">Charsets</span>      <span class="o">*</span>
<span class="n">DEFUTF8</span><span class="o">=</span><span class="n">IBM1160</span><span class="p">,</span>           <span class="o">*</span> <span class="n">default</span> <span class="n">to</span> <span class="n">Thai</span> <span class="n">Charset</span> <span class="o">*</span>
</pre></div>
</div>
<p><strong>5452 IBM0803 and IBM4899 OLDCODE character set for Hebrew.</strong></p>
<p>Two new external modules IBM0803 and IBM4899. IBM0803 is the “Hebrew Set
A old code” and IBM4899 is the “Hebrew Set A old code maximal set
including euro and new sheqel”.</p>
<p><strong>5459 Batch transfer of TRSF files</strong></p>
<p>This update allows exporting/importing of raw TRSF data files in batch.
See the section &#8216;Virtel Batch – exporting/importing TRSF files&lt;Virtel457UG&gt;&#8217; in the
Virtel Users Guide.</p>
<p><strong>5496 Add Cucumber diagnostic support</strong></p>
<p>To aid in unit testing and diagnosis the Cucumber Diagnostic Tool is now
supported by Virtel.</p>
<p><strong>5498 Licence warning feature.</strong></p>
<p>A new licence warning feature has been added so that customers can be
made aware in advanced when the Virtel licence is about to expire. The
new TCT option “WARNING=” determines the number of days prior to issuing
a licence warning message.</p>
<p>Example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">*</span> <span class="n">WARNING</span> <span class="n">IF</span> <span class="n">EXPIRE</span> <span class="n">WITHIN</span> <span class="mi">7</span> <span class="n">DAYS</span> <span class="p">(</span><span class="n">DEFAULT</span><span class="p">)</span>
                <span class="n">COMPANY</span><span class="o">=</span><span class="s1">&#39;SYSPERTEC COMMUNICATION VIRTEL 5 MVS&#39;</span><span class="p">,</span> <span class="o">*</span>    <span class="n">X</span>
                <span class="n">ADDR1</span><span class="o">=</span><span class="s1">&#39;196 BUREAUX DE LA COLLINE&#39;</span><span class="p">,</span>      <span class="o">*</span>            <span class="n">X</span>
                <span class="n">ADDR2</span><span class="o">=</span><span class="s1">&#39;92213 SAINT-CLOUD CEDEX FRANCE&#39;</span><span class="p">,</span> <span class="o">*</span>            <span class="n">X</span>
                <span class="n">LICENCE</span><span class="o">=</span><span class="s1">&#39;VIRTEL ... &#39;</span><span class="p">,</span> <span class="n">LICENCE</span> <span class="n">NUMBER</span>   <span class="o">*</span>            <span class="n">X</span>
                <span class="n">EXPIRE</span><span class="o">=</span><span class="p">(</span><span class="mi">2017</span><span class="p">,</span><span class="mi">05</span><span class="p">,</span><span class="mi">05</span><span class="p">),</span>                                 <span class="n">X</span>
                <span class="n">WARNING</span><span class="o">=</span><span class="mi">7</span><span class="p">,</span>                                           <span class="n">X</span>
</pre></div>
</div>
<p>The following messages will appear in the Virtel log:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="mf">00.00</span><span class="o">.</span><span class="mi">01</span> <span class="n">JOB01373</span> <span class="o">----</span> <span class="n">FRIDAY</span><span class="p">,</span> <span class="mi">05</span> <span class="n">MAY</span> <span class="mi">2017</span> <span class="o">----</span>
<span class="mf">00.00</span><span class="o">.</span><span class="mi">01</span> <span class="n">JOB01373</span> <span class="n">VIR0900I</span> <span class="n">LICENCE</span> <span class="n">VIRTEL</span> <span class="n">MINITEL</span> <span class="mi">001099900</span> <span class="p">(</span><span class="mi">2017</span> <span class="o">-</span> <span class="mi">05</span> <span class="o">-</span> <span class="mi">05</span><span class="p">)</span>
<span class="mf">00.00</span><span class="o">.</span><span class="mi">01</span> <span class="n">JOB01373</span> <span class="n">VIR0901W</span> <span class="n">LICENCE</span> <span class="n">IS</span> <span class="n">ABOUT</span> <span class="n">TO</span> <span class="n">EXPIRE</span>
</pre></div>
</div>
<p><strong>5505 Add addition support to VIR0021W USS MSGTAB10 processor.</strong></p>
<p>This routine now supports system symbolics.</p>
<p><strong>5510 Provide Support for French Canadian translate tables.</strong></p>
<p>A new external module IBM0276 has been added to support French Canadian
translate tables.</p>
<p>Example in the TCT code the following:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">CHARSET</span><span class="o">=</span><span class="n">IBM0276</span><span class="p">,</span> <span class="n">load</span> <span class="n">French</span> <span class="n">Canadian</span> <span class="n">table</span>   <span class="o">*</span>
<span class="n">DEFUTF8</span><span class="o">=</span><span class="n">IBM0276</span><span class="p">,</span> <span class="n">default</span> <span class="n">translate</span> <span class="n">table</span>      <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="installation-and-sample-members">
<h2>Installation and Sample members<a class="headerlink" href="#installation-and-sample-members" title="Permalink to this headline">¶</a></h2>
<p><strong>5441 Update Virtel procedure in SAMPLIB</strong></p>
<p>To accommodate the F VIRTEL,UNLOAD command a dummy SYSPUNCH statement has
been added to the distributed Virtel procedure member VIRTELS in the
SAMPLIB library.</p>
<p><strong>5454 Update installation member to 4.56</strong></p>
<p>Update installation modules to reflect Virtel 4.56</p>
<p><strong>5457 Update VSE Installation jobs</strong></p>
<p>Update VSE installation job s for z/VSE 6.2</p>
<p><strong>5468 Update ARBOMIGR and ARBOLOAD SAMPLIB members</strong></p>
<p>Update the members to support the Virtel 4.57 enhancements.</p>
<p><strong>5473 Add option transaction to ARBOLOAD and ARBOMIGR</strong></p>
<p>The transactions to support the /option/ pathname had been added.</p>
<p><strong>5491 Print scenario members added to the SCE-DIR directory.</strong></p>
<p>The SCENFPCL, SCENFPDF and SCENPPDF scenarios have been added to the
scenario directory as .390 members.</p>
<p><strong>5502 Increase space allocation in SAMPLIB member $alocdsu.</strong></p>
<p>Primary space allocation has been increased to avoid E37 abends during
installation.</p>
</div>
<div class="section" id="virtel-web-administration">
<h2>Virtel Web Administration<a class="headerlink" href="#virtel-web-administration" title="Permalink to this headline">¶</a></h2>
<p><strong>5442 Synchronise ADMINVWM to enable upgrade to V4.5x</strong></p>
<p>Update the ADMINVSC.VSC source so that it is compatible with the
corresponding ADMVWM.JS module.</p>
<p><strong>5464 DDI and macro enhancements</strong></p>
<p>This fix implements several new macro and DDI features. It incorporates
the following changes:-</p>
<ul class="simple">
<li>A “Refresh” button has been added to the Global panel.</li>
<li>Fix a bug in removing records.</li>
<li>Improved keyboard mapping graphics.</li>
</ul>
<p><strong>5484 Hotkey support for DDI macros</strong></p>
<p>Hotkey key mapping support for VIRTEL DDI macros.</p>
<p><strong>5485 Key mapping support for ALT+numeric.</strong></p>
<p>Enhancement of the hotkey to take a digit into account (requirement of
TOMY).</p>
<p>Update of the hotkey help messages accordingly.</p>
<p><strong>5487 DDI refresh macro enhancement</strong></p>
<p>To improve the synchronicity of macros stored within a user’s local
storage and those maintained on the mainframe. The following options are
now available in the w2hparm.js member:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>w2hparm.useVirtelMacros = {“macrosAutoRefresh”:”*value”}*
</pre></div>
</div>
<p>Where value can be:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>true | false[default] | “never” | “once” | “daily” | “session”
</pre></div>
</div>
<p><strong>5490 Disable Long Poll</strong></p>
<p>To support the i4web AS/400 interface a new option to disable “Long
Poll” has been implemented. This can be defined in w2hparm.js or through
a setting in the miscellaneous settings panel</p>
</div>
<div class="section" id="scenario-language">
<h2>Scenario Language<a class="headerlink" href="#scenario-language" title="Permalink to this headline">¶</a></h2>
<p><strong>5434 Cursor position changed to an input field.</strong></p>
<p>A field colour is incorrectly changed from white to red. This is due to
the WEB2SUB.HTML page containing a {{{FIELD-WITH-CURSOR}}} statement.
Because the cursor is not in an input field, this triggers the creation
of a dummy input field to allow cursor positioning in classic pages with
a visible FORM.</p>
<p>A new “NOFIELD” option has been added as a fieldname to
{{{DEFAULT-FIELD-WITH-CURSOR &#8220;<em>fieldname</em>&#8220;}}} statement. This prevents
creation of a dummy input field.</p>
<p><strong>5458 COPY$ TO-SYSTEM NAME-OF RELAY</strong></p>
<p>Allows an IDENTIFICATION scenario to override the name of the relay
chosen by Virtel.</p>
<p>For example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>COPY$ VARIABLE-TO-SYSTEM,VAR=&#39;VAR1&#39;,FIELD=(NAME-OF,RELAY)
</pre></div>
</div>
<p>An alternative is to use:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">VALUE</span><span class="o">-</span><span class="n">OF</span><span class="p">,</span><span class="n">ROUTING</span><span class="o">-</span><span class="n">PARAMETER</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>5475 COPY$ NAME-OF TERMINAL</strong></p>
<p>Implement a new variant of COPY$:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>COPY$ SYSTEM-TO-VARIABLE,VAR=&#39;TERMINAL&#39;, *
FIELD=(NAME-OF,TERMINAL)
</pre></div>
</div>
<p>This acquires either the DNS name or IP Address of a terminal using a
DNS look up facility.</p>
<p>NOTE: For this to work, it is necessary to specify a value to the 3rd
sub-parameter of the TCP1= (or TCP2=) parameter in the VIRTCT. (Any
value may be specified). Not yet implemented in VSE.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">TCP1</span><span class="o">=</span><span class="p">(</span><span class="n">TCPIP</span><span class="p">,,</span><span class="n">DNS</span><span class="p">,</span><span class="mi">65535</span><span class="p">),</span>
</pre></div>
</div>
<p>During Virtel startup, the following messages will appear:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">+</span><span class="n">VIRDNS1W</span> <span class="n">TKP1</span> <span class="n">DNS</span> <span class="n">SUBTASK</span> <span class="n">DNS</span> <span class="n">STARTING</span> <span class="n">VIRDNS1</span>
<span class="o">+</span><span class="n">VIRDNS2W</span> <span class="n">TKP1</span> <span class="n">DNS</span> <span class="n">SUBTASK</span> <span class="n">VIRDNS1</span> <span class="n">STARTED</span>
</pre></div>
</div>
<p>Sample scenario:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>COPY$ SYSTEM-TO-VARIABLE,VAR=&#39;TERMINAL&#39;,                  *
FIELD=(NAME-OF,TERMINAL)
ERROR$ 0,&#39;TERMINAL: &#39;,&#39;*TERMINAL&#39;
</pre></div>
</div>
<p>Sample output:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">VIRHT51I</span> <span class="n">DEMOHTTP</span> <span class="n">CONNECTING</span> <span class="n">HTLOC005</span> <span class="n">TO</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">092.058</span><span class="p">:</span><span class="mi">53786</span>
<span class="n">TERMINAL</span><span class="p">:</span> <span class="n">w8</span><span class="o">-</span><span class="n">jmsaby</span><span class="o">.</span><span class="n">syspertec</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>Two new modules are added to Virtel, VIRDNS1 and VIRDNS2. These support
an asynchronous use of the IBM GETNAMEINFO EZASMI API.</p>
<p><strong>5486 NAME-OF GROUP support</strong></p>
<p>Scenario NAME-OF construct now supports the GROUP option.</p>
<p>Example:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{{{</span><span class="n">NAME</span><span class="o">-</span><span class="n">OF</span> <span class="p">(</span><span class="n">LINE</span><span class="o">-</span><span class="n">EXTERNAL</span><span class="p">)}}}</span>             <span class="o">*</span>
<span class="p">{{{</span><span class="n">NAME</span><span class="o">-</span><span class="n">OF</span> <span class="p">(</span><span class="n">USER</span><span class="p">)}}}</span>                      <span class="o">*</span>
<span class="p">{{{</span><span class="n">NAME</span><span class="o">-</span><span class="n">OF</span> <span class="p">(</span><span class="n">GROUP</span><span class="p">)}}}</span>                     <span class="o">*</span>
<span class="p">{{{</span><span class="n">NAME</span><span class="o">-</span><span class="n">OF</span> <span class="p">(</span><span class="n">USER</span><span class="o">-</span><span class="n">IP</span><span class="o">-</span><span class="n">ADDRESS</span><span class="p">)}}}</span>           <span class="o">*</span>
</pre></div>
</div>
<p>Will produce:-</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">-</span><span class="n">W2H</span>\<span class="o">*</span> <span class="n">SPTSABY</span>\<span class="o">*</span> <span class="n">SPGPTECH</span>\<span class="o">*</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">092.091</span>\<span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="bug-fixes">
<h2>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>5435 Global variable conflict between.</li>
<li>5436 Fix problem with OCCURS-UNLIMITED when analysing JSON objects.</li>
<li>5437 VSE - corrects TCT command display of BFVSAM and BUFDATA.</li>
<li>5438 Correct TCT command display and multi-line WTO</li>
<li>5440 ASRA abend entering Network Management sub-application (PA2 + PF6)</li>
<li>5445 TRACE SCENARIO statement produces spurious character in WTO</li>
<li>5446 url HOTSPOT in wrong position for multi-line output</li>
<li>5448 Error if password contains a non-alphanumeric character.</li>
<li>5448a Correct IE8 display. Potential blocking error.</li>
<li>5449 Macro check box not rendered correctly.</li>
<li>5450 Corrects updt5447. German translation was missing.</li>
<li>5451 Re-instate w2hparm.js default behaviour.</li>
<li>5455 Correct ADMIN HTML Rules display.</li>
<li>5460 Compatibility fix for settings panel.</li>
<li>5461 Avoid blank settings page with master/slave settings in screen capture.</li>
<li>5462 Files larger than 30K are incorrectly retrieved from CACHE.</li>
<li>5463 Correct processing of HTTP pseudo terminal with an &#64;EIB.</li>
<li>5465 IE8 corrections for DDI and macro support.</li>
<li>5466 Correct macro API which blocked “Save” button.</li>
<li>5464 VIRSV Improve initialisation messages.</li>
<li>5470 Correct first line of screen when using logmode SNX32705</li>
<li>5471 Fix D23-002 ABEND due to incorrect URL</li>
<li>5472 Correct time column alignment in DDI display.</li>
<li>5478 Fix C03 ABEND on shutdown.</li>
<li>5479 Fix DDI “delete” bug.</li>
<li>5488 Fix DDI “save” bug.</li>
<li>5489 Corrections to the DDI macro interface.</li>
<li>5492 Support % character in HTML Signon password field.</li>
<li>5493 Fix ABEND878-10 ABEND.</li>
<li>5494 Correct ICON protocol. Issues incorrect NACK in some situations.</li>
<li>5495 Correct AutoPrint feature. Problem with printing multiple pages.</li>
<li>5497 Correct MIME error after upload.</li>
<li>5499 Correct CLONE= parameter to support either 1 or 2 characters.</li>
<li>5500 Fix bug in VIR0021W, USS MSGTAB10 processor.</li>
<li>5505 Correct Loop when ATTN key is pressed.</li>
<li>5506 Fix clean-up processing in VIR0021W. Stop LOAD failure.</li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../../howto.html" class="btn btn-neutral float-right" title="Miscellaneous" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../TN201705/TN201705     .html" class="btn btn-neutral" title="Printing PCL files with NodeJS" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Syspertec. All rights reserved.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>