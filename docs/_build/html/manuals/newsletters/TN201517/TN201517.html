

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Virtel Chinese Character Language Support &mdash; Virtel 7 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Processing the VTAM USS MSG10 buffer" href="../TN201519/TN201519.html" />
    <link rel="prev" title="Using Virtel as a Secure Single Access Control Point" href="../TN201515/TN201515.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Virtel
          

          
            
            <img src="../../../_static/logo_virtel_web.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                4.57
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../virtel.html">Virtel Manuals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../newsletters.html">Technical Newsletters</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id1">2014</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../newsletters.html#id2">2015</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../TN201501/TN201501.html">Dynamic Directory Interface (DDI)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201504/TN201504.html">Running multiple instances of Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201505/TN201505.html">Virtel Macros in Virtel 4.53</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201506/TN201506.html">An example of using web services with Virtel Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201507/TN201507.html">Customising Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201515/TN201515.html">Using Virtel as a Secure Single Access Control Point</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Virtel Chinese Character Language Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201519/TN201519.html">Processing the VTAM USS MSG10 buffer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201520/TN201520.html">Using the IBM System Logger with Virtel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../TN201522/TN201522.html">What’s new in Virtel 4.55</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id3">2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id4">2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id5">2018</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../newsletters.html#id6">2019</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Virtel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../newsletters.html">Technical Newsletters</a> &raquo;</li>
        
      <li>Virtel Chinese Character Language Support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../_sources/manuals/newsletters/TN201517/TN201517.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="virtel-chinese-character-language-support">
<span id="tn201517"></span><h1>Virtel Chinese Character Language Support<a class="headerlink" href="#virtel-chinese-character-language-support" title="Permalink to this headline">¶</a></h1>
<p>In this newsletter we discuss the Chinese language support and provide
examples in both a mainframe application, ISPF, and a bespoke Web
modernisation application. Here is an example of our web modernisation
screen in Chinese.</p>
<p><a class="reference internal" href="../../../_images/image119.png"><img alt="image0" src="../../../_images/image119.png" style="width: 6.30000in; height: 4.38542in;" /></a></p>
<p><em>Fig 1. - Virtel display of a Chinese screen</em></p>
<p><strong>Setting up the windows environment</strong></p>
<p>To begin with you will need to install a PinYin tool of some description
and modify your windows environment to support Chinese (Simplified)
language. In our example we use the MicroSoft PinYin IME. The following
screen shot is an example of the Windows Language environment:-</p>
<p><a class="reference internal" href="../../../_images/image212.png"><img alt="image1" src="../../../_images/image212.png" style="width: 4.59439in; height: 5.18822in;" /></a></p>
<p><em>Fig 2. - Setting language support in Windows</em></p>
<p>You now have the option to select a Chinese language and using PinYin,
you will be able to enter Chinse characters using MicroSoft’s PinYin
Input Method Editor - IME. You might have to install this product. To
test the IME product open a NOTEPAD file, change to the Chinese
Simplified Language, and type some characters. The language tool bar
will look something like this :-</p>
<p><a class="reference internal" href="../../../_images/image313.png"><img alt="image2" src="../../../_images/image313.png" style="width: 6.09460in; height: 0.41672in;" /></a></p>
<p><em>Fig 3. - Lanuage tool bar</em></p>
<p>As you type characters a Chinese display will appear with the PinYin
translation. The character string in “Blue” can be selected to replace
the European characters that you have typed.</p>
<p><a class="reference internal" href="../../../_images/image410.png"><img alt="image3" src="../../../_images/image410.png" style="width: 6.30000in; height: 3.51944in;" /></a></p>
<p><em>Fig 3. - PinYin demonstration in NotePad</em></p>
<p>Once the Windows environment is set and the PinYin IME is working we can
continue to configure Virtel to support Simplified Chinese through the
IBM CodePage 1388. Virtel supports a variety of languages in SBCS and
DBCS, and this include Japanese as well as Chinese, but before doing
that we have to ensure that the backend applications can also support
DBCS.</p>
<p><strong>Application Modifications</strong></p>
<p><strong>IMS</strong></p>
<p>To support the VWM project demonstrated in this newsletter certain
application prerequisites were required. The VWM project utilized a back
end IMS application which delivered 3270 data streams which incorporated
DBCS characters. Also, the terminal receiving the datastreams must be
capable of supporting DBCS. As we shall see in the TSO ISPF example this
is a consideration that must be configured. For the IMS application, the
requirements were:-</p>
<p>In the IMS GEN:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TRANSACT</span> <span class="n">Macro</span>
<span class="n">EDIT</span><span class="o">=</span><span class="n">ULC</span> <span class="n">Must</span> <span class="n">be</span> <span class="n">specified</span>
<span class="n">TERMINAL</span> <span class="n">Macro</span>
    <span class="n">OPTIONS</span><span class="o">=</span><span class="p">(</span><span class="n">NOTRSOSI</span><span class="p">)</span> <span class="p">(</span><span class="n">Must</span> <span class="n">be</span> <span class="n">specified</span> <span class="k">for</span> <span class="n">VIRTEL</span> <span class="n">relay</span> <span class="n">LUs</span> <span class="ow">and</span> <span class="n">other</span> <span class="n">DBCS</span> <span class="n">terminals</span><span class="o">.</span><span class="p">)</span>
</pre></div>
</div>
<p>This IMS applications also uses the following display formats:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">APT510O</span><span class="p">,</span> <span class="n">APT520O</span> <span class="ow">and</span> <span class="n">APT530O</span><span class="o">.</span>
</pre></div>
</div>
<p>These will need to be assembled and installed into the IMS environment we will be testing against. The source and JCL to compile and install these modules can be found in <em>SP000.IMS.SOURCE</em> or obtained from the Syspertec FTP website.</p>
<p>IMS installation jobs:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MFSJCL</span>    <span class="o">-</span> <span class="n">Compile</span> <span class="n">formats</span>
<span class="n">MFSSTAGE</span>  <span class="o">-</span> <span class="n">Install</span> <span class="n">into</span> <span class="n">IMS</span>
<span class="n">Source</span>    <span class="o">-</span> <span class="n">APT510</span><span class="p">,</span> <span class="n">APT520</span><span class="p">,</span> <span class="n">APT530</span>
</pre></div>
</div>
<p><strong>TSO</strong></p>
<p>Within an ISPF context the terminal type receiving the DBCS data stream
must be configured to support DBCS and SBCS. This is configured by
setting the MIXED MODE attribute in the View and Edit settings of ISPF.</p>
<p><a class="reference internal" href="../../../_images/image58.png"><img alt="image4" src="../../../_images/image58.png" style="width: 6.30000in; height: 3.66111in;" /></a></p>
<p><em>Fig 4. - Miwed mode support in ISPF</em></p>
<p>Mixed mode, in ISPF, enables the display of both SBCS and DBCS
characters. If this flag turns off after setting it, it means that ISPF
cannot set the terminal to mixed mode. This is normally attributed to an
incorrect logmode. In the example above we are using the logmode
D4A32XX3 which should enable you to set the VIRTEL terminal to MIXED
MODE.</p>
<p>This is defined in the default logmode table for VTAM – ISTINCLM. The
assembler source for this module can be found in SYS1.SAMPLIB. The
sample entry looks like:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TITLE</span> <span class="s1">&#39;D4A32XX3&#39;</span>
<span class="o">**********************************************************************</span>
<span class="o">*</span>                                                                    <span class="o">*</span>
<span class="o">*</span> <span class="mi">3274</span> <span class="n">MODEL</span> <span class="mi">1</span><span class="n">A</span> <span class="p">(</span><span class="n">LOCAL</span> <span class="n">SNA</span><span class="p">)</span> <span class="nd">@OY02946</span>                                 <span class="o">*</span>
<span class="o">*</span> <span class="n">PRIMARY</span> <span class="n">SCREEN</span> <span class="mi">24</span> <span class="n">X</span> <span class="mi">80</span> <span class="p">(</span><span class="mi">1920</span><span class="p">)</span>                                      <span class="o">*</span>
<span class="o">*</span> <span class="n">ALTERNATE</span> <span class="n">SCREEN</span> <span class="n">TO</span> <span class="n">BE</span> <span class="n">DETERMINED</span> <span class="n">BY</span> <span class="n">APPLICATION</span>                   <span class="o">*</span>
<span class="o">*</span>                                                                    <span class="o">*</span>
<span class="o">**********************************************************************</span>

<span class="n">D4A32XX3</span> <span class="n">MODEENT</span>
<span class="n">LOGMODE</span><span class="o">=</span><span class="n">D4A32XX3</span><span class="p">,</span><span class="n">FMPROF</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;03&#39;</span><span class="p">,</span><span class="n">TSPROF</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;03&#39;</span><span class="p">,</span><span class="n">PRIPROT</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;B1&#39;</span><span class="p">,</span><span class="n">SECPROT</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;90&#39;</span><span class="p">,</span><span class="n">COMPROT</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;3080&#39;</span><span class="p">,</span><span class="n">RUSIZES</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;87C7&#39;</span><span class="p">,</span>
    <span class="n">PSERVIC</span><span class="o">=</span><span class="n">X</span><span class="s1">&#39;028000000000000000000300&#39;</span><span class="p">,</span><span class="n">APPNCOS</span><span class="o">=</span><span class="c1">#CONNECT</span>
</pre></div>
</div>
<p><strong>Configure Virtel to support Simplified Chinese.</strong></p>
<p>To configure Virtel to support Simplified Chinese the TCT must be
altered and recompiled and the Transaction Entry point and transactions
altered/added to the ARBO file.</p>
<ol class="arabic">
<li><p><strong>Virtel TCT Modifications</strong></p>
<blockquote>
<div><p>In the TCT modify the CHARSET key word to include the Chinese DBCS
Codepage. In the example that follows we have modified the character
sets loaded by Virtel to include the Chinese CodePage and have set
that as the default Codepage to IBM1388, the Chinese Simplified
Codepage used by Virtel:-</p>
</div></blockquote>
</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEFUTF8</span><span class="o">=</span><span class="n">IBM1388</span><span class="p">,</span> <span class="n">DEFAULT</span> <span class="n">OUTPUT</span> <span class="n">ENCODING</span> <span class="o">*</span>
<span class="n">CHARSET</span><span class="o">=</span><span class="p">(</span><span class="n">IBM1388</span><span class="p">,</span> <span class="n">CHINESE</span> <span class="n">SIMPLIFIED</span> <span class="o">*</span>
<span class="n">IBM1047</span><span class="p">,</span> <span class="n">US</span> <span class="n">OPEN</span> <span class="n">SYSTEMS</span> <span class="o">*</span>
<span class="n">IBM933A</span><span class="p">,</span> <span class="n">KOREAN</span> <span class="o">*</span>
<span class="n">IBM0037</span><span class="p">,</span> <span class="n">US</span> <span class="n">EBCDIC</span> <span class="o">*</span>
<span class="n">IBM1390</span><span class="p">,</span><span class="n">IBM1399</span><span class="p">),</span> <span class="n">JAPANESE</span> <span class="o">*</span>
</pre></div>
</div>
<ol class="arabic" start="2">
<li><p><strong>Virtel Transaction Modifications</strong></p>
<blockquote>
<div><p>To support DBCS the entry type that is being used by VIRTEL must be
configured with the EXTCOLOR=X option. In our example we are using
the CLIWHOST entry point. This change can be done through batch,
using the VIRCONF program, dynamically using the online
administration interfaces. In our example we used the batch VIRCONF
program to update the ARBO with the relevant changes to support the
ISPF and IMS test applications.</p>
<p>Appendix A is an example of the changes required to support the
Chines test. You will note that there are some additional Virtel
Transactions, Sub directories and Entry changes. The changes to the
ARBO are as follows:-</p>
</div></blockquote>
</li>
<li><p><strong>New Transactions</strong></p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">W2H</span><span class="o">-</span><span class="mi">80</span><span class="n">C</span> <span class="n">Enable</span> <span class="n">upload</span> <span class="n">of</span> <span class="n">pages</span> <span class="n">to</span> <span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span> <span class="n">directory</span>
<span class="n">CLI</span><span class="o">-</span><span class="mi">07</span> <span class="n">Support</span> <span class="n">English</span> <span class="n">display</span> <span class="n">of</span> <span class="n">IMS</span> <span class="n">screens</span>
<span class="n">CLI</span><span class="o">-</span><span class="mi">08</span> <span class="n">Support</span> <span class="n">Chinese</span> <span class="n">display</span> <span class="n">of</span> <span class="n">IMS</span> <span class="n">screens</span>
<span class="n">CLI</span><span class="o">-</span><span class="mi">59</span> <span class="n">IMS</span> <span class="n">Access</span> <span class="n">to</span> <span class="n">IMS</span> <span class="n">Application</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>New Sub-Directory</strong></p></li>
</ol>
<p>A new sub directory is required, CHI-DIR, to hold the Chinese pages produced by Virtel Screen Redesigner</p>
<p><strong>Updated Transaction Entry</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Transaction</span> <span class="n">CLIWHOST</span><span class="p">:</span><span class="o">-</span>

    <span class="n">Add</span> <span class="n">EXTCOLOR</span><span class="o">=</span><span class="n">X</span>              <span class="n">To</span> <span class="n">support</span> <span class="n">DBCS</span> <span class="n">characters</span><span class="o">.</span>
    <span class="n">SCENDIR</span><span class="o">=</span><span class="n">SCE</span><span class="o">-</span><span class="n">DIR</span>             <span class="n">To</span> <span class="n">enable</span> <span class="n">load</span> <span class="n">of</span> <span class="n">scenario</span> <span class="kn">from</span> <span class="nn">the</span>  <span class="n">SCE</span><span class="o">-</span><span class="n">DIR</span><span class="o">.</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p><strong>Virtel TRSF changes</strong></p></li>
</ol>
<p>The relevant templates and scenarios used in the IMS demonstration
must be uploaded to the TRSF. These web elements can be found in the
SVN directors as detailed below. The following actions must be
performed to make the relevant templates stc availed to Virtel. The
templates and web artefacts produced by the Virtel Screen Designer
product must be uploaded to the relevant sub directories. Unless
stated all source references are directories and all members must be
copied up.</p>
<blockquote>
<div><p><strong>Source Target Directory</strong></p>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span> <span class="n">VirtelSR</span>\<span class="n">upload</span>                 <span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="n">CLI</span><span class="o">-</span><span class="n">DIR</span>
\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span> <span class="n">VirtelSR</span>\\<span class="n">VSRwithOwn</span>\\<span class="n">upload</span>    <span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="n">CLI</span><span class="o">-</span><span class="n">DIR</span>
\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span>
<span class="n">VirtelSR</span>\<span class="n">VSRwithOwn</span>\<span class="n">upload</span>\<span class="n">images</span>                                   <span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="n">CLI</span><span class="o">-</span><span class="n">DIR</span>
\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span> <span class="n">VirtelSR</span>\<span class="n">Html</span>\<span class="n">cn</span>                <span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span>
\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span> <span class="n">VirtelSR</span>\<span class="n">Html</span>\<span class="n">us</span>                <span class="n">CLI</span><span class="o">-</span><span class="n">DIR</span>
\<span class="n">svn</span>\<span class="n">sysper</span>\<span class="n">carcomp</span>\<span class="n">GAP</span> <span class="n">POC</span>\<span class="n">carcomp</span> <span class="n">VirtelSR</span>\<span class="n">scenario</span>\<span class="n">GAPPOCSC</span><span class="o">.</span><span class="mi">390</span>
<span class="n">SCE</span><span class="o">-</span><span class="n">DIR</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p><strong>Scenario GAPPOCSC</strong></p></li>
</ol>
<p>The source for the scenario is listed in Appendix C. This can be
used to create a load module version of the scenario rather than a
.390 version. The scenario load module can then be stored in the
VIRTEL LOADLIB rather than maintained in a SCE-DIR directory.</p>
<p><strong>Running the IMS demo</strong></p>
<p>Point your VIRTEL at the initial template using the following url:-</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="mf">192.168</span><span class="o">.</span><span class="mf">170.30</span><span class="p">:</span><span class="mi">41002</span><span class="o">/</span><span class="n">cn</span><span class="o">/</span><span class="n">carcompPOC</span><span class="o">.</span><span class="n">htm</span>
</pre></div>
</div>
<p>The following screen will appear</p>
<p><a class="reference internal" href="../../../_images/image68.png"><img alt="image5" src="../../../_images/image68.png" style="width: 4.52027in; height: 3.76042in;" /></a></p>
<p>Click on the logo to display the IMS logon screen:-</p>
<p><a class="reference internal" href="../../../_images/image76.png"><img alt="image6" src="../../../_images/image76.png" style="width: 4.54167in; height: 3.77020in;" /></a></p>
<p>Logon to IMS with your valid credentials. The IMS Session status screen
is displayed:-</p>
<p><a class="reference internal" href="../../../_images/image86.png"><img alt="image7" src="../../../_images/image86.png" style="width: 4.54167in; height: 3.82127in;" /></a></p>
<p>Enter the following display format command /FOR APT510O.</p>
<p>The IMS backend application will respond with the screen display but in
Chinese.</p>
<p><a class="reference internal" href="../../../_images/image94.png"><img alt="image8" src="../../../_images/image94.png" style="width: 4.79167in; height: 4.42511in;" /></a></p>
<p>Turn on the Chinese (Simplified) language in the language bar. This will
enable you to enter Chinese test (Using PinYin) into the input fields.</p>
<p><a class="reference internal" href="../../../_images/image104.png"><img alt="image9" src="../../../_images/image104.png" style="width: 4.68750in; height: 4.30928in;" /></a></p>
<p>Select the Chinese text from the PinYin display.</p>
<p><a class="reference internal" href="../../../_images/image1110.png"><img alt="image10" src="../../../_images/image1110.png" style="width: 4.71875in; height: 4.35049in;" /></a></p>
<p>This is the end of the IMS Chinese Language demonstration. The same
demonstration can be repeated using the English language. This is simply
a matter of changing the directory in the initial from …/cn/… to …/en/…
:-</p>
<p><a class="reference external" href="http://192.168.170.30:41002/en/carcompPOC.htm">*http://192.168.170.30:41002/en/carcompPOC.htm*</a></p>
<p>Proceeding with the same scenario as described in the Chinese
demonstration we eventually show the final display, but now in the
English.</p>
<p><a class="reference internal" href="../../../_images/image124.png"><img alt="image11" src="../../../_images/image124.png" style="width: 4.79167in; height: 4.55187in;" /></a></p>
<p>**
TSO Demonstration**</p>
<p>The TSO test demonstrates how Chinese text can be used to edit a file.
The only requirement in this test is that the terminal type support
MIXED MODE. This is conjured by setting the EXTCOLOR=X on the CLIWHOST
entry point. In the ISPF Edit screen below we can see that the MIXED
MODE flag is set.</p>
<p><a class="reference internal" href="../../../_images/image132.png"><img alt="image12" src="../../../_images/image132.png" style="width: 4.55208in; height: 4.50040in;" /></a></p>
<p>If we use option 3.4 to list and edit a “CHINESE” edited file we get the
following display:-</p>
<p><a class="reference internal" href="../../../_images/image142.png"><img alt="image13" src="../../../_images/image142.png" style="width: 5.26880in; height: 1.13542in;" /></a></p>
<p>A “Hex On” of the file clearly shows that the transparent “SI x’0E’” and
“SO x’0F’” have been inserted into the file and encapsulate the DBCS
strings.</p>
<p><a class="reference internal" href="../../../_images/image152.png"><img alt="image14" src="../../../_images/image152.png" style="width: 6.30000in; height: 2.27917in;" /></a></p>
<p><strong>Entering Chinese characters.</strong></p>
<p>To enter Chinese characters into the file we must use WEB2VIRT template
and not the WEB2AJAX template. This is because the input variables are
not available to the PinYin program with WEB2AJAX. Using WEB2VIRT is
cumbersome in comparison to WEB2AJAX but nevertherless when we arrive at
the ISPF Edit page we can now enter characters using PinYin.</p>
<p><a class="reference internal" href="../../../_images/image161.png"><img alt="image15" src="../../../_images/image161.png" style="width: 6.30000in; height: 6.00278in;" /></a></p>
<p>Selecting the highlighted blue pinyin text will insert the characters
into the file.</p>
<p><strong>Appendix A. Example of VIRCONF</strong></p>
<p>Example of the batch VIRCONF job required to support Chinese Character
tests. This job must be run against the ARBO file when Virtel is down.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span><span class="n">SPTHOLTA</span> <span class="n">JOB</span> <span class="mi">1</span><span class="p">,</span><span class="n">VIRCONF</span><span class="p">,</span><span class="n">CLASS</span><span class="o">=</span><span class="n">A</span><span class="p">,</span><span class="n">MSGCLASS</span><span class="o">=</span><span class="n">X</span><span class="p">,</span><span class="n">NOTIFY</span><span class="o">=&amp;</span><span class="n">SYSUID</span>
<span class="o">//</span> <span class="n">SET</span> <span class="n">LOAD</span><span class="o">=</span><span class="n">SPTHOLT</span><span class="o">.</span><span class="n">VIRT453</span><span class="o">.</span><span class="n">LOADLIB</span>
<span class="o">//</span> <span class="n">SET</span> <span class="n">ARBO</span><span class="o">=</span><span class="n">SP000</span><span class="o">.</span><span class="n">SPVIREH</span><span class="o">.</span><span class="n">ARBO</span>
<span class="o">//</span><span class="n">CONFIG</span> <span class="n">EXEC</span> <span class="n">PGM</span><span class="o">=</span><span class="n">VIRCONF</span><span class="p">,</span><span class="n">PARM</span><span class="o">=</span><span class="n">LOAD</span>
<span class="o">//</span><span class="n">STEPLIB</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;</span><span class="n">LOAD</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
<span class="o">//</span><span class="n">SYSPRINT</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">SYSUDUMP</span> <span class="n">DD</span> <span class="n">SYSOUT</span><span class="o">=*</span>
<span class="o">//</span><span class="n">VIRARBO</span> <span class="n">DD</span> <span class="n">DSN</span><span class="o">=&amp;</span><span class="n">ARBO</span><span class="p">,</span><span class="n">DISP</span><span class="o">=</span><span class="n">SHR</span>
  <span class="n">TRANSACT</span> <span class="n">ID</span><span class="o">=</span><span class="n">W2H</span><span class="o">-</span><span class="mi">80</span><span class="n">C</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">NAME</span><span class="o">=</span><span class="s1">&#39;uplchi&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;Upload HTML pages (CHI-DIR directory)&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">APPL</span><span class="o">=</span><span class="n">VIR0041C</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TYPE</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TERMINAL</span><span class="o">=</span><span class="n">DELOC</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">STARTUP</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SECURITY</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">LOGMSG</span><span class="o">=</span><span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span>
      <span class="n">TRANSACT</span> <span class="n">ID</span><span class="o">=</span><span class="n">CLI</span><span class="o">-</span><span class="mi">07</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">NAME</span><span class="o">=</span><span class="s1">&#39;en&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;CLI directory (English version)&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">APPL</span><span class="o">=</span><span class="n">CLI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TYPE</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TERMINAL</span><span class="o">=</span><span class="n">CLLOC</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">STARTUP</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SECURITY</span><span class="o">=</span><span class="mi">0</span>
      <span class="n">TRANSACT</span> <span class="n">ID</span><span class="o">=</span><span class="n">CLI</span><span class="o">-</span><span class="mi">08</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">NAME</span><span class="o">=</span><span class="s1">&#39;cn&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;CHI directory (Chinese version) xxxxxxxxxxxxxxxxxx-</span>
      <span class="s1">&#39;, -</span>
      <span class="n">APPL</span><span class="o">=</span><span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">PASSTCKT</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TYPE</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TERMINAL</span><span class="o">=</span><span class="n">CLLOC</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">STARTUP</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SECURITY</span><span class="o">=</span><span class="mi">0</span>
      <span class="n">TRANSACT</span> <span class="n">ID</span><span class="o">=</span><span class="n">CLI</span><span class="o">-</span><span class="mi">59</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">NAME</span><span class="o">=</span><span class="n">carcompAJAX</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;IMS Access for carcomp POC (GAP)&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">APPL</span><span class="o">=</span><span class="n">IMS3270</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TYPE</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TERMINAL</span><span class="o">=</span><span class="n">CLVTA</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">STARTUP</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SECURITY</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TIOAEND</span><span class="o">=</span><span class="s1">&#39;&amp;#6D/rcl&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">EXITMSGO</span><span class="o">=</span><span class="n">GAPPOCSC</span>
      <span class="n">SUBDIR</span> <span class="n">ID</span><span class="o">=</span><span class="n">CHI</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;Pages for Chinese POC&#39;</span><span class="p">,</span>
      <span class="n">DDNAME</span><span class="o">=</span><span class="n">HTMLTRSF</span><span class="p">,</span>
      <span class="n">KEY</span><span class="o">=</span><span class="n">CHI</span><span class="o">-</span><span class="n">KEY</span><span class="p">,</span>
      <span class="n">NAMELEN</span><span class="o">=</span><span class="mi">0064</span><span class="p">,</span>
      <span class="n">AUTHUP</span><span class="o">=</span><span class="n">X</span><span class="p">,</span>
      <span class="n">AUTHDOWN</span><span class="o">=</span><span class="n">X</span><span class="p">,</span>
      <span class="n">AUTHDEL</span><span class="o">=</span><span class="n">X</span>
      <span class="n">ENTRY</span> <span class="n">ID</span><span class="o">=</span><span class="n">CLIWHOST</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">DESC</span><span class="o">=</span><span class="s1">&#39;HTTP entry point (CLIENT application)&#39;</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TRANSACT</span><span class="o">=</span><span class="n">CLI</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">TIMEOUT</span><span class="o">=</span><span class="mi">0005</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">ACTION</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">EMUL</span><span class="o">=</span><span class="n">HTML</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SIGNON</span><span class="o">=</span><span class="n">VIR0020H</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">MENU</span><span class="o">=</span><span class="n">VIR0021A</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">IDENT</span><span class="o">=</span><span class="n">SCENLOGM</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">SCENDIR</span><span class="o">=</span><span class="n">SCE</span><span class="o">-</span><span class="n">DIR</span><span class="p">,</span> <span class="o">-</span>
      <span class="n">EXTCOLOR</span><span class="o">=</span><span class="n">X</span>
</pre></div>
</div>
<p><strong>Appendix B. ERRORS</strong></p>
<p><strong>Screen Input Error</strong></p>
<p>ISPF TSO TPUT/TGET calls have a maximum buffer size. If this is exceeded
than then following error message will be displayed. Because with have
switched DBCS support on in our Virtel Entry Point, the size of the
buffer, that being 52 rows and 121 columns display as well as the
additional memory required to support DBCS characters exceeds the TSO
TGET buffer size. To remedy this problem we have to reduce the buffer
size. This can be done by changing the number of rows from 52 to 43.
With this configuration we no longer have the TGET error.</p>
<p><a class="reference internal" href="../../../_images/image171.png"><img alt="image16" src="../../../_images/image171.png" style="width: 6.30000in; height: 2.36319in;" /></a></p>
<p><strong>Appendix C. Source for scenario GAPSOCSC</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>* ---------------------------------------------------------------------
* SCENARIO FOR carcomp POC (Global Account Payable)
* checks the screen to send the related template
* ---------------------------------------------------------------------
GAPPOC    SCREENS APPL=GAPPOC
*
          SCENARIO OUTPUT
*
*
* checks the title
*
          CASE$ (01,21,20), *
            (EQ,&#39;Manual Payment Input&#39;,APT510), *
            (EQ,&#39;Manual Payment Appro&#39;,APT520), *
            (EQ,&#39;Manual Payment Enqui&#39;,APT530), *
            ELSE=CLASSIC
*
*
* Screen &#39;Manual Payment Input&#39; - MFS map APT510
*
APT510      DS 0H
            SET$ PAGE,&#39;PGAPT510.html&#39;
            SCENARIO END
*
*
* Screen &#39;Manual Payment Approval&#39; - MFS map APT520
*
APT520      DS 0H
            SET$ PAGE,&#39;PGAPT520.html&#39;
            SCENARIO END
*
*
* Screen &#39;Manual Payment Enquiry &#39; - MFS map APT530
*
APT530      DS 0H
            SET$ PAGE,&#39;PGAPT530.html&#39;
            SCENARIO END
*
*
* Screen is not related to a specific template
* Use classic 3270 presentation sub-page
*
CLASSIC     DS 0H
            SET$ PAGE,&#39;VSRajax.html&#39;
            SCENARIO END
*
            SCRNEND
            END
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../TN201519/TN201519.html" class="btn btn-neutral float-right" title="Processing the VTAM USS MSG10 buffer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../TN201515/TN201515.html" class="btn btn-neutral float-left" title="Using Virtel as a Secure Single Access Control Point" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, Syspertec. All rights reserved

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>