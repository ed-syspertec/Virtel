%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax
\ifdefined\pdfimageresolution
    \pdfimageresolution= \numexpr \dimexpr1in\relax/\sphinxpxdimen\relax
\fi
%% let collapsible pdf bookmarks panel have high depth per default
\PassOptionsToPackage{bookmarksdepth=5}{hyperref}

\PassOptionsToPackage{booktabs}{sphinx}
\PassOptionsToPackage{colorrows}{sphinx}

\PassOptionsToPackage{warn}{textcomp}


\usepackage{cmap}

\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}





\usepackage[Bjarne]{fncychap}
\usepackage[,numfigreset=1,mathnumfig]{sphinx}

\fvset{fontsize=auto}
\usepackage{geometry}


% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}


\usepackage{sphinxmessages}



% Enable unicode and use Courier New to ensure the card suit
% characters that are part of the 'random' module examples
% appear properly in the PDF output.
\usepackage{fontspec}
\setmonofont{Courier New}


\title{What's new in Virtel}
\date{May 03, 2024}
\release{4.62}
\author{Syspertec Communications}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\ifdefined\shorthandoff
  \ifnum\catcode`\=\string=\active\shorthandoff{=}\fi
  \ifnum\catcode`\"=\active\shorthandoff{"}\fi
\fi

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{TN202403::doc}}


\sphinxAtStartPar
The following newsletter summaries the new features and maintenance updates that can be found in Virtel Release 4.62 @ update level 6099.


\chapter{Installation changes}
\label{\detokenize{TN202403:installation-changes}}\begin{itemize}
\item {} 
\sphinxAtStartPar
6043 \$RESTDSU modifications.

\item {} 
\sphinxAtStartPar
6048 Update VIRBATAR Samplib member.

\item {} 
\sphinxAtStartPar
6059 Modification Installtion JCL

\item {} 
\sphinxAtStartPar
6076 Update TCT samples. Correct UFILE and MACRF parms.

\item {} 
\sphinxAtStartPar
6086 Add z/VSE TCT’s FR and EN.

\item {} 
\sphinxAtStartPar
6089 Add TN3270 section.

\end{itemize}


\chapter{Migration considerations}
\label{\detokenize{TN202403:migration-considerations}}

\section{V4.62}
\label{\detokenize{TN202403:v4-62}}
\sphinxAtStartPar
\sphinxstylestrong{End of support for COMPATIBILITY mode}

\sphinxAtStartPar
The “COMPATIBILITY” mode for w2hparm, that was introduced in version 4.54 to provide seamless migration of V4.53 w2hparm to V4.54. w2hparm is no longer supported from V4.61 onwards. It is recommended to switch to “Option” mode before migrating later releases.

\sphinxAtStartPar
\sphinxstylestrong{6046 DCB value of STATS file changed to 255}

\sphinxAtStartPar
This has been increased to 255. Reallocate any STATS file with a LRECL=255,RECFM=VB,BLKSIZE=4096

\sphinxAtStartPar
\sphinxstylestrong{Version support}

\sphinxAtStartPar
Versions of Virtel older than V4.59 are no longer supported. It is recommended to migrate to the latest release.

\sphinxAtStartPar
\sphinxstylestrong{ARBO changes}
\begin{itemize}
\item {} 
\sphinxAtStartPar
There have been no changes to the ARBO which would require migration from V4.60 or V4.59. Customers who are migrating from older releases should review the “What’s new in Virtel V4.XX” newsletters to determine applicable migration actions for new distributed features. Depending on requirements not all actions may be applicable. These newsletters are available online at \sphinxurl{https://virtel.readthedocs.io/en/latest/}

\end{itemize}


\chapter{Fixes, changes and new features}
\label{\detokenize{TN202403:fixes-changes-and-new-features}}

\section{Presentation}
\label{\detokenize{TN202403:presentation}}
\sphinxAtStartPar
\sphinxstylestrong{Updates to the W2H Javascript include}
\begin{itemize}
\item {} 
\sphinxAtStartPar
6042 Add buttons in the toolbar for TBT WebAccess features.

\item {} 
\sphinxAtStartPar
6045 Correction to the order in which customized fields are initialized in the W2HAPI.

\item {} 
\sphinxAtStartPar
6055 Color change. Change the CSS names for the NOCOLOR.

\item {} 
\sphinxAtStartPar
6058 Updated CappMenu menu feature, improved Color and FTP support.

\item {} 
\sphinxAtStartPar
6066 General maintenance.

\item {} 
\sphinxAtStartPar
6084 Synchronization of code between V461 and V462

\item {} 
\sphinxAtStartPar
6096 Virtel VWA 462 update for operation in EDGE in IE11 compatibility mode.

\end{itemize}

\sphinxAtStartPar
\sphinxstylestrong{6052 Correct MDT Flag reset in VIR0023}

\sphinxAtStartPar
In the ADMIN 3270 Terminal description display, not all fields were being correctly set with blanks beng inserted when certain key sequences were applied. This affected the STATS, Description and Terminal name fields.

\sphinxAtStartPar
\sphinxstylestrong{6057 SIGNON BOX messages updated to improve security}

\sphinxAtStartPar
The messages reporting credential failure have been updated.

\sphinxAtStartPar
\sphinxstylestrong{6064 Correct Option button behavior}

\sphinxAtStartPar
Option button had to be pressed twice. Corrected.

\sphinxAtStartPar
\sphinxstylestrong{6079 VIR0T11 now the default TCP/IP program under z/VSE}

\sphinxAtStartPar
VIR0T11 now the default TCP/IP program under z/VSE.

\sphinxAtStartPar
\sphinxstylestrong{6082 TN3270 add “relay name” to status bar}

\sphinxAtStartPar
The name of the Virtel pseudo terminal being used for the connection will be displayed on the status bar as a relay.

\sphinxAtStartPar
\sphinxstylestrong{6083 VSE WTO message truncated}

\sphinxAtStartPar
Correct truncation of messages in z/VSE

\sphinxAtStartPar
\sphinxstylestrong{6091 Silence MultiLine messages}

\sphinxAtStartPar
Multi\sphinxhyphen{}Line messages can now be silenced

\newpage


\section{Base Components}
\label{\detokenize{TN202403:base-components}}
\sphinxAtStartPar
\sphinxstylestrong{6041 Abend S0C4\sphinxhyphen{}38 after SNAP}

\sphinxAtStartPar
Correct ABEND S0C4 in SNAP processing

\sphinxAtStartPar
\sphinxstylestrong{6045 Correction to the order in which customized fields are initialized}

\sphinxAtStartPar
Update initialization order of custom files.

\sphinxAtStartPar
\sphinxstylestrong{6046 Update STATS DCB to record length of 255}

\sphinxAtStartPar
Increase Statistics buffer size

\sphinxAtStartPar
\sphinxstylestrong{6050 Prevent ABEND S0C4 in VIR0021W when USSMSG MSG=10 is coded as MSG=TEXT}

\sphinxAtStartPar
Correct ABEND S0C4 when processing MSG=TEXT in USSMSG

\sphinxAtStartPar
\sphinxstylestrong{6056 Cookies are lost after exiting the Virtel session}

\sphinxAtStartPar
Changes to improve behavior and provide a seamless return to the Virtel screen when using the LOCK= feature and Security TYPE=1.

\sphinxAtStartPar
\sphinxstylestrong{6051 VIRT923E ERROR REQ: PTON \sphinxhyphen{} RETCODE: FFFFFFFF ERRNO: 00000031 (00000049)}

\sphinxAtStartPar
The x\sphinxhyphen{}Forwarded\sphinxhyphen{}For header can contain several addresses. Virtel was passing the full header value to PTON instead of only the first address, which should be the client address. The other addresses are from proxies. The X\sphinxhyphen{}Forwarded\sphinxhyphen{}For header is tested only if Virtel was called from a known proxy, as defined in HTFORWD= TCT parameter or in a rule. Only the first one in the X\sphinxhyphen{}Forwarded\sphinxhyphen{}For header is validated as a known proxy.

\sphinxAtStartPar
\sphinxstylestrong{6060 ARBO keywords in ENTRY Statement being unloaded in error}

\sphinxAtStartPar
The VIRCONF program has been updated to correctly process the ENTRY statement during an UNLOAD request.

\sphinxAtStartPar
\sphinxstylestrong{6061 Possible memory corruption when RULE is absent}

\sphinxAtStartPar
Message VIR0923E NO RELAY AVAILABLE issued. Corruption in the terminal block due to data overlay.

\sphinxAtStartPar
\sphinxstylestrong{6063 Ruleset not initialized correctly}

\sphinxAtStartPar
On startup the LINE ruleset is not initialized correctly. Message VIR0035E is issued for each rule. Corrected.

\sphinxAtStartPar
\sphinxstylestrong{6065 Possible invalid header in 304 response}

\sphinxAtStartPar
Various errors reported, such as ‘NO MORE PSEUDO FOUND WITH PREFIX CLLOC’. Expiry header logic amended set correct response value.

\sphinxAtStartPar
\sphinxstylestrong{6066 Possible ASRA in VIR0010}

\sphinxAtStartPar
TIOACHK check routine updated to avoid incorrect overwrite detection.

\sphinxAtStartPar
\sphinxstylestrong{6067 PF keys only work when pressed twice}

\sphinxAtStartPar
Correct bug in ADMIN 3270 panels. In some situations the PF keys had to be pressed twice.

\sphinxAtStartPar
\sphinxstylestrong{6069 ATTN key fails}

\sphinxAtStartPar
Update ATTN processing to correctly return to application.

\sphinxAtStartPar
\sphinxstylestrong{6071 LPKALIVE memory leak}

\sphinxAtStartPar
Error message ‘VIR0097E ERROR ALLOCATING MEMORY’ reported when using LPKALIVE= feature. Corrected.

\sphinxAtStartPar
\sphinxstylestrong{6074 Duplicate VIRIC52I message}

\sphinxAtStartPar
ICAL processing was erroneously issuing the VIRIC52I message twice.

\sphinxAtStartPar
\sphinxstylestrong{6077 Improved 404 support in place of “HTTP\sphinxhyphen{}EQUIV=’refresh’”}

\sphinxAtStartPar
404 response may be received instead of a normal return to the menu when close was the result of a command to the application; for instance LOGOFF under CMS accessed thru TN3270
or cesf logo in CICS.

\sphinxAtStartPar
\sphinxstylestrong{6078 VSE CSI TCP/IP Telnet3270 support}

\sphinxAtStartPar
Telnet3270 does not work when using VSE CSI TCP/IP. All IP addresses are zeroed. Corrected.

\sphinxAtStartPar
\sphinxstylestrong{6080 VIRTEL IMS \sphinxhyphen{} Message VIRIC54E}

\sphinxAtStartPar
Message added

\sphinxAtStartPar
\sphinxstylestrong{6081 Abend during RACINIT processing}

\sphinxAtStartPar
Virtel ASRA abend \sphinxhyphen{} ICH409I 0C4\sphinxhyphen{}010 ABEND DURING RACINIT PROCESSING

\sphinxAtStartPar
\sphinxstylestrong{6093 USERPARM with Security=5}

\sphinxAtStartPar
Correct bug in USERPARM support.

\sphinxAtStartPar
\sphinxstylestrong{6094 S0C4 when issuing Command}

\sphinxAtStartPar
Correct ABENDS0C4 in multi\sphinxhyphen{}line command support.

\sphinxAtStartPar
\sphinxstylestrong{6095 New options for Line command}

\sphinxAtStartPar
Add I (INUSE) and E (Extended) options to the Display Line command.

\sphinxAtStartPar
\sphinxstylestrong{6097 Correct VSE support for IEASYMBP}

\sphinxAtStartPar
Fix z/VSE bug in supporting IEASYMBP symbolic function.


\section{VSR}
\label{\detokenize{TN202403:vsr}}
\sphinxAtStartPar
\sphinxstylestrong{6062 Upload for VSR stalls}

\sphinxAtStartPar
When performing a VSR upload a stall could occurred processing large amounts of data. Data boundary processing updated.

\newpage


\section{Scenario Language}
\label{\detokenize{TN202403:scenario-language}}
\sphinxAtStartPar
\sphinxstylestrong{6053 IF\$ SCREEN\sphinxhyphen{}IS\sphinxhyphen{}UNMODIFIED,THEN=FAIL incorrectly returned TRUE}

\sphinxAtStartPar
When processing a multi\sphinxhyphen{}message screen buffer, a erroneous value of TRUE was being set in certain conditions.

\sphinxAtStartPar
\sphinxstylestrong{6070 CASE\$ and \$IF testing}

\sphinxAtStartPar
CASE\$ and IF\$ tests will consider blanks as an attribute.

\newpage


\section{Other Enhancements}
\label{\detokenize{TN202403:other-enhancements}}
\sphinxAtStartPar
\sphinxstylestrong{6054 Update SMFREXXL Samplib member}
\begin{itemize}
\item {} 
\sphinxAtStartPar
Pass in SMF record type as argument. Defaults to record type 223.

\item {} 
\sphinxAtStartPar
Correct concatenation operator (||).

\item {} 
\sphinxAtStartPar
Support both ‘B’ and ‘H’ Stat types as defined in Terminal Definition. STATS=56

\item {} 
\sphinxAtStartPar
Remove spurious blank line at end of EXEC.

\end{itemize}

\sphinxAtStartPar
\sphinxstylestrong{6087 Make VIRHTML default value for HTVSAM}

\sphinxAtStartPar
Change default value for HTVSAM TCT option.

\sphinxAtStartPar
\sphinxstylestrong{6090 Add TN3270 external server in ARBOLOAD}

\sphinxAtStartPar
ARBOLOAD now supports TN3270 definitions.

\sphinxAtStartPar
\sphinxstylestrong{6098 SAMPLIB SEC=1 for W2H\sphinxhyphen{}00P, CLI\sphinxhyphen{}00P \& VPX\sphinxhyphen{}00P}

\sphinxAtStartPar
Correct ABROLOAD definitions.

\sphinxAtStartPar
\sphinxstylestrong{6099 Make cAppMenu.htm default for CLI\sphinxhyphen{}00 transaction}

\sphinxAtStartPar
Update CLI\sphinxhyphen{}00 definition. Previously it was appmenu.htm

\newpage


\chapter{New features}
\label{\detokenize{TN202403:new-features}}
\sphinxAtStartPar
\sphinxstylestrong{6049 CRYPTS= Encrypt Virtel and Ajax session codes}

\sphinxAtStartPar
A new VIRTCT parameter
..
\begin{quote}

\sphinxAtStartPar
CRYPTS=AES\sphinxhyphen{}256|AES\sphinxhyphen{}192|AES\sphinxhyphen{}128|NONE
\end{quote}

\sphinxAtStartPar
When CRYPTS= is set to NONE, or defaulted, session codes are not encrypted. When CRYPT=AES\sphinxhyphen{}… is coded, Virtel session codes will be encrypted. The length of the session code is now 24 bytes instead of the previous 16 bytes.

\sphinxAtStartPar
\sphinxstylestrong{6068 TN3270 update}

\sphinxAtStartPar
Add TN3270 dialout to access remote Z/VM telnet servers (z/VM, external partners).

\sphinxAtStartPar
\sphinxstylestrong{6072 User Relay LU nailing}

\sphinxAtStartPar
A new LU nailing feature that allocates a Relay terminal/printer based on a USERID. Uses the Virtel internal tablespace API to extract the userid / terminal assocaition. The Virtel internace tablespace is built from the VIRCONF statements :\sphinxhyphen{} DEPT, USER, PROFILE and RELAY statements. A new ARBOLOAD JCL option has been added to provide a sample configuration \sphinxhyphen{} RELAY=YES. This feature requires the TCT USERFUNC=YES to be set.

\sphinxAtStartPar
\sphinxstylestrong{6075 NFORCEIP= VIRTCT parameter}

\sphinxAtStartPar
A new TCT parameter, NFORCEIP=NO will, by default, and will ignore any changes of client IP address. This can occur when using zScaler security server. Specifying NFORCEIP=YES will enforcing that the client IP address should not change. In this instance, the connection will be disconnected.

\sphinxAtStartPar
\sphinxstylestrong{6085 Update LU Nailing modules}

\sphinxAtStartPar
Correct Relay LU Nailing default behavior.

\sphinxAtStartPar
\sphinxstylestrong{6088 TN3270 definition in SAMPLIB}

\sphinxAtStartPar
Sample definitions for TN3270 support

\sphinxAtStartPar
\sphinxstylestrong{6092 New User Function \sphinxhyphen{} Dynamic Relay Table}

\sphinxAtStartPar
Virtel supports a dynamic relay LU table built from ARBO statements. This new function enhances the LU nailing feature. Screens in the Admin 3270 Security option have been updated to support this feature. The change complements changes introduced by change 6072.


\chapter{Updates and maintenance}
\label{\detokenize{TN202403:updates-and-maintenance}}
\sphinxAtStartPar
A full list of maintenance updates can be found in Appendix A.

\newpage


\chapter{Appendix A}
\label{\detokenize{TN202403:appendix-a}}
\sphinxAtStartPar
\sphinxstylestrong{Maintenance list}
\begin{itemize}
\item {} 
\sphinxAtStartPar
6038 Change version

\item {} 
\sphinxAtStartPar
6039 Change of name on USSTAB

\item {} 
\sphinxAtStartPar
6040 mainframe assembly of VIRHTTP fails due to TAB character

\item {} 
\sphinxAtStartPar
6041 S0C4\sphinxhyphen{}38 after SNAP

\item {} 
\sphinxAtStartPar
6042 Add buttons in the toolbar for TBT WebAccess features

\item {} 
\sphinxAtStartPar
6043 \$RESTDSU modifications

\item {} 
\sphinxAtStartPar
6044 CLIENTM.JCL delete reference to section PLUG

\item {} 
\sphinxAtStartPar
6045 Correction to the order in which customized filed are initialized

\item {} 
\sphinxAtStartPar
6046 Update STATS DCB to 255

\item {} 
\sphinxAtStartPar
6047 Change Virtel Version and remove X’05’ from source

\item {} 
\sphinxAtStartPar
6048 Update VIRBATAR Samplib member

\item {} 
\sphinxAtStartPar
6049 CRYPTS= Encrypt Virtel and Ajax session codes

\item {} 
\sphinxAtStartPar
6050 Prevent ABEND S0C4 in VIR0021W when MSG = TEXT

\item {} 
\sphinxAtStartPar
6051 VIRT923E ERROR REQ: PTON \sphinxhyphen{} RETCODE: FFFFFFFF ERRNO: 00000031 (00000049)

\item {} 
\sphinxAtStartPar
6052 Correct MDT Flag reset in VIR0023

\item {} 
\sphinxAtStartPar
6053 IF\$ SCREEN\sphinxhyphen{}IS\sphinxhyphen{}UNMODIFIED,THEN=FAIL may block due to SNA FLAGS

\item {} 
\sphinxAtStartPar
6054 Update SMFREXXL Samplib member

\item {} 
\sphinxAtStartPar
6055 Color change. Change the CSS names for the NOCOLOR

\item {} 
\sphinxAtStartPar
6056 Cookies are lost after exiting the Virtel session

\item {} 
\sphinxAtStartPar
6057 SIGNON BOX,CHANGE ERR=9 ET ERR=11 PAR UID/PWD ERROR

\item {} 
\sphinxAtStartPar
6058 Update W2H for V4.59 and V4.60

\item {} 
\sphinxAtStartPar
6059 Modification to install build JCL job CLIENTD.MODELE

\item {} 
\sphinxAtStartPar
6060 No unload of ARBO keyword in ENTRY STMT

\item {} 
\sphinxAtStartPar
6061 Possible memory corruption when RULE is absent

\item {} 
\sphinxAtStartPar
6062 UPLOAD VSR CHUNK stalls for some big files

\item {} 
\sphinxAtStartPar
6063 Ruleset not initialized correctly

\item {} 
\sphinxAtStartPar
6064 Correct options button behaviour

\item {} 
\sphinxAtStartPar
6065 POSSIBLE INVALID HEADER IN 304 RESPONSE

\item {} 
\sphinxAtStartPar
6066 Possible ASRA in VIR0010

\item {} 
\sphinxAtStartPar
6067 PF keys only work when pressed twice

\item {} 
\sphinxAtStartPar
6068 TN3270 refresh

\item {} 
\sphinxAtStartPar
6069 ATTN key fails to return to application

\item {} 
\sphinxAtStartPar
6070 CASE\$ testing BLANK on screen

\item {} 
\sphinxAtStartPar
6071 LPKALIVE memory leak

\item {} 
\sphinxAtStartPar
6072 User Relay and misc. features for V4.62

\item {} 
\sphinxAtStartPar
6073 VirtelSession thru http header

\item {} 
\sphinxAtStartPar
6074 Duplicate VIRIC52I message

\item {} 
\sphinxAtStartPar
6075 NFORCEIP= VIRTCT parameter

\item {} 
\sphinxAtStartPar
6076 Update TCT samples. Correct UFILE and MACRF parms

\item {} 
\sphinxAtStartPar
6077 404 returned instead of EQUIV REFRESH

\item {} 
\sphinxAtStartPar
6078 VSE CSI TCP/IP Telnet3270 support

\item {} 
\sphinxAtStartPar
6079 VIR0T11 now the default TCP/IP program under z/VSE

\item {} 
\sphinxAtStartPar
6080 VIRTEL IMS \sphinxhyphen{} Add Message VIRIC54E

\item {} 
\sphinxAtStartPar
6081 Abend during RACINIT processing

\item {} 
\sphinxAtStartPar
6082 TN3270 add “relay name” to status bar

\item {} 
\sphinxAtStartPar
6083 z/VSE WTO message truncated

\item {} 
\sphinxAtStartPar
6084 SVN synchronization for version 462

\item {} 
\sphinxAtStartPar
6085 Correct bug in USERFUNC support for LU Nailing modules

\item {} 
\sphinxAtStartPar
6086 New samplib z/VSE TCTs in FR \& EN

\item {} 
\sphinxAtStartPar
6087 SAMPLIB SEC=1 for W2H\sphinxhyphen{}00P, CLI\sphinxhyphen{}00P \& VPX\sphinxhyphen{}00P

\item {} 
\sphinxAtStartPar
6088 TN3270 definition in SAMPLIB

\item {} 
\sphinxAtStartPar
6089 TN3270 section in Installation Support

\item {} 
\sphinxAtStartPar
6090 Add TN3270 external server in ARBOLOAD

\item {} 
\sphinxAtStartPar
6091 Silence MultiLine messages

\item {} 
\sphinxAtStartPar
6092 User Function \sphinxhyphen{} New Dynamic Relay Support

\item {} 
\sphinxAtStartPar
6093 USERPARM with Security=5

\item {} 
\sphinxAtStartPar
6094 S0C4 when issuing Multi\sphinxhyphen{}Line Command

\item {} 
\sphinxAtStartPar
6095 New options for Line command

\item {} 
\sphinxAtStartPar
6096 Virtel VWA 462 update for operation in EDGE in IE11 compatibility mode

\item {} 
\sphinxAtStartPar
6097 Correct VSE support for IEASYMBP.

\item {} 
\sphinxAtStartPar
6098 SAMPLIB SEC=1 for W2H\sphinxhyphen{}00P, CLI\sphinxhyphen{}00P \& VPX\sphinxhyphen{}00P

\item {} 
\sphinxAtStartPar
6099 Make cAppMenu.htm default instead of appmenu.htm

\end{itemize}



\renewcommand{\indexname}{Index}
\printindex
\end{document}