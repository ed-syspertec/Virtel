%% Generated by Sphinx.
\def\sphinxdocclass{report}
\documentclass[letterpaper,10pt,english]{sphinxmanual}
\ifdefined\pdfpxdimen
   \let\sphinxpxdimen\pdfpxdimen\else\newdimen\sphinxpxdimen
\fi \sphinxpxdimen=.75bp\relax

\PassOptionsToPackage{warn}{textcomp}


\usepackage{cmap}

\usepackage{amsmath,amssymb,amstext}
\usepackage{babel}

\usepackage[Bjarne]{fncychap}
\usepackage[,numfigreset=1,mathnumfig]{sphinx}

\fvset{fontsize=\small}
\usepackage{geometry}

% Include hyperref last.
\usepackage{hyperref}
% Fix anchor placement for figures with captions.
\usepackage{hypcap}% it must be loaded after hyperref.
% Set up styles of URL: it should be placed after hyperref.
\urlstyle{same}

\addto\captionsenglish{\renewcommand{\figurename}{Fig.\@ }}
\makeatletter
\def\fnum@figure{\figurename\thefigure{}}
\makeatother
\addto\captionsenglish{\renewcommand{\tablename}{Table }}
\makeatletter
\def\fnum@table{\tablename\thetable{}}
\makeatother
\addto\captionsenglish{\renewcommand{\literalblockname}{Listing}}

\addto\captionsenglish{\renewcommand{\literalblockcontinuedname}{continued from previous page}}
\addto\captionsenglish{\renewcommand{\literalblockcontinuesname}{continues on next page}}
\addto\captionsenglish{\renewcommand{\sphinxnonalphabeticalgroupname}{Non-alphabetical}}
\addto\captionsenglish{\renewcommand{\sphinxsymbolsname}{Symbols}}
\addto\captionsenglish{\renewcommand{\sphinxnumbersname}{Numbers}}

\addto\extrasenglish{\def\pageautorefname{page}}




% Enable unicode and use Courier New to ensure the card suit
% characters that are part of the 'random' module examples
% appear properly in the PDF output.
\usepackage{fontspec}
\setmonofont{Courier New}


\title{What's new in Virtel}
\date{Dec 30, 2020}
\release{4.61}
\author{Syspertec Communications}
\newcommand{\sphinxlogo}{\vbox{}}
\renewcommand{\releasename}{Release}
\makeindex
\begin{document}

\pagestyle{empty}
\sphinxmaketitle
\pagestyle{plain}
\sphinxtableofcontents
\pagestyle{normal}
\phantomsection\label{\detokenize{TN202003::doc}}


The following newsletter summaries the new features and maintenance updates that can be found in Virtel Release 4.61.


\chapter{Installation changes}
\label{\detokenize{TN202003:installation-changes}}
\sphinxstylestrong{5825 VSE tape - add missing SCRNAPI macros to sublib}
\begin{itemize}
\item {} 
Updated VSE installation tape with missing SCRNAPI macros

\end{itemize}

\sphinxstylestrong{5832 V4.61 Installation updates}
\begin{itemize}
\item {} 
Updated MVS and VSE installation tapes with new JCL for v4.61

\end{itemize}


\chapter{Migration considerations}
\label{\detokenize{TN202003:migration-considerations}}

\section{V4.61}
\label{\detokenize{TN202003:v4-60}}
\sphinxstylestrong{End of support for COMPATIBILITY mode}

The “COMPATIBILITY” mode for w2hparm, that was introduced in version 4.54 to provide seamless migration of 4.53 w2hparm to 4.54 w2hparm is no longer supported in v4.61. It is recommended to switch to “Option” mode before migrating to 4.61.

\sphinxstylestrong{ARBO changes}

There have been no changes to the ARBO which would require migration from V4.59 or V4.58. Customers who are migrating from older releases should review the
“What’s new in Virtel V4.XX” newsletters to determine applicable migration actions for new distributed features.
Depending on requirements not all actions may be applicable. These newsletters are available online at \sphinxurl{https://virtel.readthedocs.io/en/latest/}


\chapter{Fixes, changes and new features}
\label{\detokenize{TN202003:fixes-changes-and-new-features}}

\section{Presentation}
\label{\detokenize{TN202003:presentation}}
\sphinxstylestrong{5782 w2h page capture improved}
\begin{itemize}
\item {} 
Improved capture feature to support older IE browsers and multiple captures on one page

\end{itemize}

\sphinxstylestrong{5799 FTP and Macro Interface enhancements}
\begin{itemize}
\item {} 
Improved FTP interface, corrected macro panel for Edge browsers

\end{itemize}

\sphinxstylestrong{5800 Macro and Capture Enhancements.}
\begin{itemize}
\item {} 
Improved layout for macros and screen capture

\end{itemize}

\sphinxstylestrong{5803 FTP V1.1}
\begin{itemize}
\item {} 
Enhanced version of Virtel FTP feature

\end{itemize}

\sphinxstylestrong{5801 Insert Key support as a Joker Key}
\begin{itemize}
\item {} 
Allows to redefine a key as the Insert key for keyboards that do not have an Insert key
\begin{itemize}
\item {} 
First set a Joker Key in w2hparm.js, for instance:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{w2hparm}\PYG{o}{.}\PYG{n}{jokerkey} \PYG{o}{=} \PYG{l+m+mi}{192}\PYG{p}{;}  \PYG{o}{/}\PYG{o}{/} \PYG{n}{leftmost} \PYG{n}{key} \PYG{n}{on} \PYG{n}{second} \PYG{n}{row} \PYG{n}{of} \PYG{n}{US} \PYG{n}{keyboard}
\end{sphinxVerbatim}

\item {} 
Then use user settings to change one of ‘joker’ or ‘shiftjoker’ or ‘altjoker’ to ‘Ins’

\item {} 
The administrator can preset these values in w2hparm with, for instance:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{w2hparm}\PYG{o}{.}\PYG{n}{joker} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Ins}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

or:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{w2hparm}\PYG{o}{.}\PYG{n}{shiftjoker} \PYG{o}{=} \PYG{l+s+s2}{\PYGZdq{}}\PYG{l+s+s2}{Ins}\PYG{l+s+s2}{\PYGZdq{}}
\end{sphinxVerbatim}

\end{itemize}

\end{itemize}

\begin{sphinxadmonition}{note}{Note:}
To determine the scancode of a key, one can use the scancode tester in the w2h directory, for instance: \sphinxurl{http://192.168.170.50:41001/w2h/scancode.htm}
\end{sphinxadmonition}

\sphinxstylestrong{5806 Correct error with data.js to avoid old D\&D template}
\begin{itemize}
\item {} 
Removed references to old drag and drop admin interface

\end{itemize}

\sphinxstylestrong{5808 Update Macro Sources, languages and fix for V4.58}
\begin{itemize}
\item {} 
Harmonized code for AS/400 version of Virtel (TBT Web Access)

\end{itemize}

\sphinxstylestrong{5820 CTRL left SHIFT as ENTER}
\begin{itemize}
\item {} 
Added support for SHIFT + left CTRL
\begin{itemize}
\item {} 
If CTRL has been assigned to ENTER, pressing SHIFT + left CTRL will be processed as an ENTER key.

\item {} 
You must press first SHIFT then CTRL for this to work consistently.

\item {} 
Ctrl + shift is by default the ‘change keyboard layout’ hotkey for Windows. So you possibly would have to unset this in the Windows Settings.

\end{itemize}

\end{itemize}

\sphinxstylestrong{5822 backspace and keypad +-}
\begin{itemize}
\item {} 
backspace may now be set to:          {[}“no”, “Backtab”, “Newline”, “Ins”{]}

\item {} 
shift+backspace may now be set to:    {[}“no”, “Backtab”, “CLEAR”, “Ins”{]}\}

\end{itemize}

\sphinxstylestrong{5823 SMARTWEB2VIRT parameters - keypad display - click position}
\begin{itemize}
\item {} 
Corrected version of the SMARTWEB2VIRT template for tablets and smartphones

\end{itemize}

\sphinxstylestrong{5826 backspace and keypad +- - correction}
\begin{itemize}
\item {} 
Corrects an error in update 5822

\end{itemize}

\sphinxstylestrong{5827 Misc. updates to VSR}
\begin{itemize}
\item {} 
New “Wizard” mode for Virtel Screen Redesigner

\end{itemize}

\sphinxstylestrong{5829 incorrect display of a large template when using Virtel cache}
\begin{itemize}
\item {} 
Corrects Virtel caching of large page templates

\end{itemize}

\sphinxstylestrong{5830 Update to Virtel Online Doc. and Capture fix.}
\begin{itemize}
\item {} 
Updated online help documentation for cut \& paste and capture

\end{itemize}

\sphinxstylestrong{5835 Screen Presentation and Language Support Changes}
\begin{itemize}
\item {} 
Corrected screen sizing in NOSTRETCH mode, to avoid vertical slider from appearing

\end{itemize}

\sphinxstylestrong{5840 incorrect graphic characters}
\begin{itemize}
\item {} 
Corrects an issue where vertical lines where displayed as superscript character

\end{itemize}

\sphinxstylestrong{5841 VWA Macros fix. IE11}
\begin{itemize}
\item {} 
Correct corruption of macro list in IE11

\end{itemize}

\sphinxstylestrong{5843 Misc. VWA fixes.}
\begin{itemize}
\item {} 
Corrected processing of data pasted into Virtel from external spreadsheet

\end{itemize}

\sphinxstylestrong{5844 Introduce new settings color palette and other VWA updates}
\begin{itemize}
\item {} 
Introduction of new color palette “Classic 3270” to differentiate between “base color” and “default color” modes

\end{itemize}

\sphinxstylestrong{5848 Toolbar and settings correction}
\begin{itemize}
\item {} 
Correction of an issue where some user settings were not correctly saved when set before sign-on

\end{itemize}

\sphinxstylestrong{5855 ADM VWM updates}
\begin{itemize}
\item {} 
Support for additional BMS fields

\end{itemize}

\sphinxstylestrong{5861 add FTPPARM scenario to LOADLIB}
\begin{itemize}
\item {} 
FTPPARM scenario was only present in SCE-DIR, not LOADLIB

\end{itemize}

\newpage


\section{Base Components}
\label{\detokenize{TN202003:base-components}}
\sphinxstylestrong{5776 Add symbolics to VIR0021W}
\begin{itemize}
\item {} 
Add @@@@DATE, @@@@TIME and @@PRT variables in USSTAB support

\end{itemize}

\sphinxstylestrong{5778 Return US Date format if COUNTRY=US in TCT}
\begin{itemize}
\item {} 
@@@@DATE is returned as MMDDYY string if COUNTRY=US is specified in TCT

\end{itemize}

\sphinxstylestrong{5780 Possible abend trying to restore a session}
\begin{itemize}
\item {} 
Corrects s0C4 abend that occurs when Virtel tries to restore a NCAccess session

\end{itemize}

\sphinxstylestrong{5781 z 0 error}
\begin{itemize}
\item {} 
Corrects Virtel behaviour when a key is pressed during a temporary TCPIP disconnection, to avoid Z 0 errors.

\end{itemize}

\sphinxstylestrong{5783/5797/5810/5814/5836/5849/5850/5853 IPV6 support}
\begin{itemize}
\item {} 
Add IPv6 support to Virtel. See \sphinxstyleemphasis{Appendix B} for more details.

\end{itemize}

\sphinxstylestrong{5786 Service transaction terminals not reused}
\begin{itemize}
\item {} 
Corrects error in 5463 that prevented service transaction terminals from being reused

\end{itemize}

\sphinxstylestrong{5787 TPX error LOGONID TOO LONG}
\begin{itemize}
\item {} 
Corrects bind to TPX to avoid too many characters from being read for LOGONID

\end{itemize}

\sphinxstylestrong{5788 TPX: unsolicited BIND may arrive before TSO BIND}
\begin{itemize}
\item {} 
Corrects situation with TPX where user has to press Enter twice to access an application

\end{itemize}

\sphinxstylestrong{5789 Correct S0C4 in VIR0021W}
\begin{itemize}
\item {} 
Prevent erroneous TSO logons via USSTAB from corrupting VIR0021W storage areas

\end{itemize}

\sphinxstylestrong{5790 VIRPLEX Writer updates not propagated}
\begin{itemize}
\item {} 
Fixes broadcast problems from Writer to Reader instances of Virtel in Virplex

\end{itemize}

\sphinxstylestrong{5792 Hang in APPLIST following UPDT5771}
\begin{itemize}
\item {} 
Corrected applist application for Security type 4 to prevent hangs for unavailable transactions

\end{itemize}

\sphinxstylestrong{5802 Possible abend in BATCH mode}
\begin{itemize}
\item {} 
Fixes ASRA abend in program VIR0015 when running Virtel in batch mode, for batch upload of JS updates.

\end{itemize}

\sphinxstylestrong{5804 Correct memory corruption caused by VIR0021W}
\begin{itemize}
\item {} 
Fixes memory corruption when date retrieved by USSTAB routine

\end{itemize}

\sphinxstylestrong{5807 X-SYSTEM lock although LONGPOLL}
\begin{itemize}
\item {} 
Fixes Virtel behaviour when Longpoll session is resent by a proxy server.

\end{itemize}

\sphinxstylestrong{5809 VIRPLEX PARMS no longer updated on a READONLY Virtel}
\begin{itemize}
\item {} 
Fixes situation where in a Virplex some userparms are lost when updated via a READONLY Virtel.

\end{itemize}

\sphinxstylestrong{5811 Cannot enter one specific chinese character ‘Air Condition’}
\begin{itemize}
\item {} 
Fixes Virtel processing of DBCS characters containing x’0E’

\end{itemize}

\sphinxstylestrong{5813 Possible screen freeze after LongPoll failure}
\begin{itemize}
\item {} 
Fixes Longpoll errors

\end{itemize}

\sphinxstylestrong{5815 Possible s0c6 after VSAM error}
\begin{itemize}
\item {} 
Fixes error in FREEMAIN logic

\end{itemize}

\sphinxstylestrong{5816 abend after late APPSTAT return}
\begin{itemize}
\item {} 
Avoid abend when VTAM is slow in processing APPSTAT command

\end{itemize}

\sphinxstylestrong{5817 Abend trying to process a HOST: header RULE when there is no HOST: header}
\begin{itemize}
\item {} 
Avoid ASRA abend when RULE definition is incomplete

\end{itemize}

\sphinxstylestrong{5837 VIRCONF corrections}
\begin{itemize}
\item {} 
Corrected errors in VIRCONF header

\end{itemize}

\sphinxstylestrong{5846 although no USERPARM transaction, a USER-PARMS-DIRECTORY is generated}
\begin{itemize}
\item {} 
Fix for configurations mixing centralized and non-centralized USERPARMS

\end{itemize}

\sphinxstylestrong{5847 possible s0C1 on late BIND}
\begin{itemize}
\item {} 
Fixes s0C1 abend for application BINDs that reach Virtel after timeout

\end{itemize}

\sphinxstylestrong{5851 Correct settings and reconnection issues}
\begin{itemize}
\item {} 
Fixes loss of toolbar settings after reconnection to Virtel

\end{itemize}

\sphinxstylestrong{5852 XWTO TRIM=Y parameter}
\begin{itemize}
\item {} 
Suppress excessive blanks in WTO messages

\end{itemize}

\sphinxstylestrong{5856 possible s0c4 processing a RULE prefix}
\begin{itemize}
\item {} 
Fixes possible s0C4 abend when processing an IPv6 prefix in a Virtel rule

\end{itemize}

\sphinxstylestrong{5860 possible s0C4 for a looping page.}
\begin{itemize}
\item {} 
Fixes s0C4 abend for large “MANY-TO-ONE” screens in Virtel Web Modernization

\end{itemize}

\sphinxstylestrong{5863 possible loop processing one specific HTTP input}
\begin{itemize}
\item {} 
Avoid possible loop when processing unexpected ASCII control characters in incoming HTTP message

\end{itemize}

\newpage


\section{Virtel Administration}
\label{\detokenize{TN202003:virtel-administration}}
\sphinxstylestrong{5805 Calling DTE RULE fails if asked for ‘1=IS’ address}
\begin{itemize}
\item {} 
Fixes RULE workflow for cases that worked with 1=STARTS-WITH but not 1=IS

\end{itemize}

\sphinxstylestrong{5821 Support password and passphrase in Virtel Admin Application}
\begin{itemize}
\item {} 
Add Passphrase support for Virtel 3270 admin interface

\end{itemize}

\sphinxstylestrong{5831 Allow DNS name in LINE definition}
\begin{itemize}
\item {} 
Introduce DNS name support for LINE definitions and parameters in Virtel startup JCL (See also \sphinxstyleemphasis{Appendix B})

\end{itemize}

\sphinxstylestrong{5834 IPV6 rules and maps}
\begin{itemize}
\item {} 
Update Virtel administration panels and rulesets for IPv6 syntax

\end{itemize}

\sphinxstylestrong{5839 Dynamically allocate SYSPUNCH DD card for VIRCONF}
\begin{itemize}
\item {} 
SYSPUNCH will be dynamically allocated if not present when doing a F VIRTEL,UNLOAD command.

\item {} 
Additional keyword added to command - DSN=unload\_dataset. This will be the target dataset for the UNLOAD command. By default UNLOAD writes the ARBO statements to SYSOUT=B

\item {} 
Note: unload\_dataset must be preallocated with DCB parameters (LRECL=80,BLKSIZE=3120,RECFM=FB)

\end{itemize}

\sphinxstylestrong{5842 VIRCONF - Fix DESC if \textgreater{} 48 chars.}
\begin{itemize}
\item {} 
Fixes situation where VIRCONF produced invalid control cards on UNLOAD if DESC is greater than 48 chars for TERMINAL statements.

\end{itemize}

\sphinxstylestrong{5854 VIRCONF rejects square brackets}
\begin{itemize}
\item {} 
VIRCONF has been corrected to support square brackets {[} and {]} for IPv6 addresses

\end{itemize}

\newpage


\section{Scenario Language}
\label{\detokenize{TN202003:scenario-language}}
\sphinxstylestrong{5777 possible abend in vir0s12 if scenario repetedly executes the same MAP\$ instructions}
\begin{itemize}
\item {} 
Corrects a situation where, when a MAP\$ sequence was executed several times, Virtel sometimes failed to match a MAP\$ END to the appropriate MAP\$ BEGIN

\end{itemize}

\sphinxstylestrong{5779 MAP\$ descriptions lost after ACTION\$ TO-APPLICATION}
\begin{itemize}
\item {} 
Fixes processing of MAP\$ descriptions that precede an ACTION\$ TO-APPLICATION statement

\end{itemize}

\sphinxstylestrong{5793 WHEN-NON-BLANK may skip not to be skipped statements}
\begin{itemize}
\item {} 
Fixes a situation where with an END-WHEN-NOT-BLANK statement, the END statement was not found and following statements were ignored as if they had been part of the WHEN-NOT-BLANK block.

\end{itemize}

\sphinxstylestrong{5819 TOVAR\$ in a SCENARIO SUBROUTINE}
\begin{itemize}
\item {} 
Corrects TOVAR\$ processing so that this instruction can be used in a subroutine

\end{itemize}

\sphinxstylestrong{5824 COPY\$ LIST-TO-VARIABLE with ADD-PREFIX12 error}
\begin{itemize}
\item {} 
Fixes processing of COPY\$ LIST-TO-VARIABLE with ADD-PREFIX12 parameter

\end{itemize}

\sphinxstylestrong{5833 SCRNAPI updates containing @ sign are badly converted to EBCDIC}
\begin{itemize}
\item {} 
Corrects an issue with characters in SCRNAPI macros that were not being interpreted correctly on sites with Codepage 037

\end{itemize}

\sphinxstylestrong{5838 CASE\$ does not correctly handle multiple ATTRIBUTE fields}
\begin{itemize}
\item {} 
Fixes a situation where CASE\$ instruction does not correctly handle a sequence of multiple 3270 ATTRIBUTE fields.

\end{itemize}

\newpage


\section{Other Enhancements}
\label{\detokenize{TN202003:other-enhancements}}
\sphinxstylestrong{5784 Support for dynamic message suppression}
\begin{itemize}
\item {} 
The SILENCE command has been enhanced to support the following options:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{F} \PYG{n}{VIRTEL}\PYG{p}{,}\PYG{n}{SILENCE}\PYG{o}{=}\PYG{n}{messageid}     \PYG{n}{Add} \PYG{n}{message} \PYG{n}{to} \PYG{n}{Message} \PYG{n}{Table}
\PYG{n}{F} \PYG{n}{VIRTEL}\PYG{p}{,}\PYG{n}{SILENCE}\PYG{o}{=}\PYG{n}{messageid}\PYG{p}{,}\PYG{n}{D}   \PYG{n}{Delete} \PYG{n}{message} \PYG{k+kn}{from} \PYG{n+nn}{Message} \PYG{n}{Table}
\PYG{n}{F} \PYG{n}{VIRTEL}\PYG{p}{,}\PYG{n}{SILENCE}\PYG{o}{=}\PYG{n}{RESET}         \PYG{n}{Reset} \PYG{n}{Message} \PYG{n}{Table} \PYG{o+ow}{and} \PYG{n}{remove} \PYG{n+nb}{all} \PYG{n}{entries}
\PYG{n}{F} \PYG{n}{VIRTEL}\PYG{p}{,}\PYG{n}{SILENCE}\PYG{o}{=}\PYG{n}{LIST}          \PYG{n}{List} \PYG{n}{Message} \PYG{n}{Table}
\end{sphinxVerbatim}

\end{itemize}


\chapter{Updates and maintenance}
\label{\detokenize{TN202003:updates-and-maintenance}}
A full list of maintenance updates can be found in Appendix A.


\chapter{Appendix A}
\label{\detokenize{TN202003:appendix-a}}
\sphinxstylestrong{Maintenance list}
\begin{itemize}
\item {} 
5776 Add symbolics to VIR00021W

\item {} 
5777 possible abend in vir0s12 if scenario repetedly executes the same MAP\$ instructions

\item {} 
5778 Return US Date format if COUNTRY=US in TCT

\item {} 
5779 MAP\$ descriptions lost after ACTION\$ TO-APPLICATION

\item {} 
5780 Possible abend trying to restore a session

\item {} 
5781 z 0 error

\item {} 
5782 w2h page capture improved

\item {} 
5783 IPV6 beginnings

\item {} 
5784 Support for dynamic message suppression

\item {} 
5786 Service transaction terminals not reused

\item {} 
5787 TPX error LOGONID TOO LONG

\item {} 
5788 TPX: unsolicited BIND may arrive before TSO BIND

\item {} 
5789 Correct S0C4 in VIR0021W

\item {} 
5790 VIRPLEX Writer updates not propagated

\item {} 
5792 Hang in APPLIST following UPDT5771

\item {} 
5793 WHEN-NON-BLANK may skip not to be skipped statements

\item {} 
5797 IPV6 continuation of 5783

\item {} 
5799 FTP and Macro Interface enhancements

\item {} 
5800 Macro and Capture Enhancements.

\item {} 
5801 Insert Key support as a Joker Key

\item {} 
5802 Possible abend in BATCH mode

\item {} 
5803 FTP V1.1

\item {} 
5804 Correct memory corruption caused by VIR0021W

\item {} 
5805 Calling DTE RULE fails if asked for ‘1=IS’ address

\item {} 
5806 Correct error with data.js to avoid old D\&D template

\item {} 
5807 X-SYSTEM lock although LONGPOLL

\item {} 
5808 Update Macro Sources, languages and fix for V4.58

\item {} 
5809 VIRPLEX PARMS no longer updated on a READONLY Virtel

\item {} 
5810 IPV6

\item {} 
5811 Cannot enter one specific chinese character ‘Air Condition’

\item {} 
5813 Possible screen freeze after LongPoll failure

\item {} 
5814 IPV6 update VIRLOG

\item {} 
5815 Possible s0c6 after VSAM error

\item {} 
5816 abend after late APPSTAT return

\item {} 
5817 Abend trying to process a HOST: header RULE when there is no HOST: header

\item {} 
5819 TOVAR\$ in a SCENARIO SUBROUTINE

\item {} 
5820 CTRL left SHIFT as ENTER

\item {} 
5821 Support password and passphrase in Virtel Admin Application

\item {} 
5822 backspace and keypad +-

\item {} 
5823 SMARTWEB2VIRT parameters - keypad display - click position

\item {} 
5824 COPY\$ LIST-TO-VARIABLE with ADD-PREFIX12 error

\item {} 
5825 VSE tape - add missing SCRNAPI macros to sublib

\item {} 
5826 backspace and keypad +- - correction

\item {} 
5827 Misc. updates

\item {} 
5829 incorrect display of a large template when using Virtel cache

\item {} 
5830 Update to Virtel Online Doc. and Capture fix.

\item {} 
5831 Allow DNS name in LINE definition

\item {} 
5832 V4.61 Installation updates

\item {} 
5833 SCRNAPI updates containing @ sign are badly converted to EBCDIC

\item {} 
5834 IPV6 rules and maps

\item {} 
5835 Screen Presentation and Language Support Changes

\item {} 
5836 Update STATS to support IP Source Address

\item {} 
5837 VIRCONF corrections

\item {} 
5838 CASE\$ does not correctly handle multiple ATTRIBUTE fields

\item {} 
5839 Dynamically allocate SYSPUNCH DD card for VIRCONF

\item {} 
5840 incorrect graphic characters

\item {} 
5841 VWA Macros fix. IE11

\item {} 
5842 VIRCONF - Fix DESC if \textgreater{} 48 chars.

\item {} 
5843 Misc. VWA fixes.

\item {} 
5844 Introduce new setttings color palette and other VWA updates

\item {} 
5846 although no USERPARM transaction, a USER-PARMS-DIRECTORY is generated

\item {} 
5847 possible s0C1 on late BIND

\item {} 
5848 Toolbar and settings correction

\item {} 
5849 IPV6 stats - first part

\item {} 
5850 VIRPASS was no longer starting due to IPV6 updates

\item {} 
5851 Correct settings and reconnection issues

\item {} 
5852 XWTO TRIM=Y parameter

\item {} 
5853 IPV6 stats - second part

\item {} 
5854 VIRCONF rejects square brackets

\item {} 
5855 ADM VWM updates

\item {} 
5856 possible s0c4 processing a RULE prefix

\item {} 
5860 possible s0C4 for a looping page.

\item {} 
5861 add FTPPARM scenario to LOADLIB

\item {} 
5862 TURQUOISE instead of BLUE in 3270-CLASSIC

\item {} 
5863 possible loop processing one specific HTTP input

\end{itemize}


\chapter{Appendix B}
\label{\detokenize{TN202003:appendix-b}}
\sphinxstylestrong{IPv6 implementation guidelines}

Virtel 4.61 introduces support of IPv6.

A Virtel line can now be defined to listen on a port associated with one of the following:
\begin{itemize}
\item {} 
The default IP address* of the Virtel instance: \sphinxcode{\sphinxupquote{:41002}}

\item {} 
An explicit IPv4 address: \sphinxcode{\sphinxupquote{192.168.170.80:41002}}

\item {} 
An explicit IPv6 address: \sphinxcode{\sphinxupquote{{[}fd10:15c1:1921:1000::129{]}:41002}}

\item {} 
A DNS name: \sphinxcode{\sphinxupquote{myvirtel.syspertec.com:41002}}

\end{itemize}

* \sphinxstyleemphasis{The default IP address is specified via the IP= parameter of the Virtel startup JCL. This can be an IPv4 or IPv6 address, or a DNS name.}

\begin{sphinxadmonition}{note}{Note:}
\sphinxstylestrong{Characters {[} and {]} may be incorrectly displayed on the MVS console with VWA 4.61}

The character set used natively by the MVS console is CP1047. For this reason, VIRTEL uses this codepage to write its messages to the console.

So, to be able to view them from VWA, the codepage used must also be IBM1047. If this is not the default Virtel codepage (as specified in the TCT), it can be forced directly in the calling URL: \sphinxurl{http://n.n.n.n:41001/w2h/WEB2AJAX.htm+Tso?codepage=IBM1047}

The entry point must refer to a scenario allowing to process the contents of the URL variable CODEPAGE.

By default the SCENLOGM scenario can be used.

If another identification scenario is implemented, it must contain the following lines:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
COPY\PYGZdl{} INPUT\PYGZhy{}TO\PYGZhy{}VARIABLE,FIELD=\PYGZsq{}CODEPAGE\PYGZsq{},             *
      VAR=\PYGZsq{}CODEPAGE\PYGZsq{}
IF\PYGZdl{} NOT\PYGZhy{}FOUND,THEN=NOCODEPG
SET\PYGZdl{}  ENCODING,UTF\PYGZhy{}8,\PYGZsq{}*CODEPAGE\PYGZsq{}
\end{sphinxVerbatim}
\end{sphinxadmonition}

One Virtel line can only listen on one IP address. Therefore if you want to be able to access one instance of Virtel in both IPv4 and IPv6, you will need to define separate lines for each IP address.

Here is an example of an ARBO definition that can be used to create a copy of the C-HTTP line, in IPv6 mode:

\begin{sphinxVerbatim}[commandchars=\\\{\}]
\PYG{n}{LINE}     \PYG{n}{ID}\PYG{o}{=}\PYG{n}{C}\PYG{o}{\PYGZhy{}}\PYG{n}{HTTP6}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{NAME}\PYG{o}{=}\PYG{n}{HTTP}\PYG{o}{\PYGZhy{}}\PYG{n}{CL6}\PYG{p}{,}                                          \PYG{o}{\PYGZhy{}}
         \PYG{n}{LOCADDR}\PYG{o}{=}\PYG{n}{virtel\PYGZus{}v6}\PYG{o}{.}\PYG{n}{syspertec}\PYG{o}{.}\PYG{n}{com}\PYG{p}{:}\PYG{l+m+mi}{41002}\PYG{p}{,}                  \PYG{o}{\PYGZhy{}}
         \PYG{n}{DESC}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{CLIWHOST via IPv6 address}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}                       \PYG{o}{\PYGZhy{}}
         \PYG{n}{TERMINAL}\PYG{o}{=}\PYG{n}{C6}\PYG{p}{,}                                            \PYG{o}{\PYGZhy{}}
         \PYG{n}{ENTRY}\PYG{o}{=}\PYG{n}{CLIWHOST}\PYG{p}{,}                                         \PYG{o}{\PYGZhy{}}
         \PYG{n}{TYPE}\PYG{o}{=}\PYG{n}{TCP1}\PYG{p}{,}                                              \PYG{o}{\PYGZhy{}}
         \PYG{n}{INOUT}\PYG{o}{=}\PYG{l+m+mi}{1}\PYG{p}{,}                                                \PYG{o}{\PYGZhy{}}
         \PYG{n}{PROTOCOL}\PYG{o}{=}\PYG{n}{VIRHTTP}\PYG{p}{,}                                       \PYG{o}{\PYGZhy{}}
         \PYG{n}{TIMEOUT}\PYG{o}{=}\PYG{l+m+mi}{0000}\PYG{p}{,}                                           \PYG{o}{\PYGZhy{}}
         \PYG{n}{ACTION}\PYG{o}{=}\PYG{l+m+mi}{0}\PYG{p}{,}                                               \PYG{o}{\PYGZhy{}}
         \PYG{n}{WINSZ}\PYG{o}{=}\PYG{l+m+mi}{0000}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{PKTSZ}\PYG{o}{=}\PYG{l+m+mi}{0000}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{RETRY}\PYG{o}{=}\PYG{l+m+mi}{0010}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{RULESET}\PYG{o}{=}\PYG{n}{C}\PYG{o}{\PYGZhy{}}\PYG{n}{HTTP}
\PYG{n}{TERMINAL} \PYG{n}{ID}\PYG{o}{=}\PYG{n}{C6LOC000}\PYG{p}{,}                                            \PYG{o}{\PYGZhy{}}
         \PYG{n}{DESC}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{HTTP Terminals ipv6 \PYGZhy{} no relay}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}                  \PYG{o}{\PYGZhy{}}
         \PYG{n}{TYPE}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{,}                                                 \PYG{o}{\PYGZhy{}}
         \PYG{n}{COMPRESS}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{INOUT}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{,}                                                \PYG{o}{\PYGZhy{}}
         \PYG{n}{STATS}\PYG{o}{=}\PYG{l+m+mi}{12}\PYG{p}{,}                                               \PYG{o}{\PYGZhy{}}
         \PYG{n}{REPEAT}\PYG{o}{=}\PYG{l+m+mi}{0010}
\PYG{n}{TERMINAL} \PYG{n}{ID}\PYG{o}{=}\PYG{n}{C6VTA000}\PYG{p}{,}                                            \PYG{o}{\PYGZhy{}}
         \PYG{n}{RELAY}\PYG{o}{=}\PYG{o}{*}\PYG{n}{W2HPOOL}\PYG{p}{,}                                         \PYG{o}{\PYGZhy{}}
         \PYG{n}{DESC}\PYG{o}{=}\PYG{l+s+s1}{\PYGZsq{}}\PYG{l+s+s1}{HTTP Terminals ipv6 \PYGZhy{} with relay}\PYG{l+s+s1}{\PYGZsq{}}\PYG{p}{,}                \PYG{o}{\PYGZhy{}}
         \PYG{n}{TYPE}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{,}                                                 \PYG{o}{\PYGZhy{}}
         \PYG{n}{COMPRESS}\PYG{o}{=}\PYG{l+m+mi}{2}\PYG{p}{,}                                             \PYG{o}{\PYGZhy{}}
         \PYG{n}{INOUT}\PYG{o}{=}\PYG{l+m+mi}{3}\PYG{p}{,}                                                \PYG{o}{\PYGZhy{}}
         \PYG{n}{STATS}\PYG{o}{=}\PYG{l+m+mi}{12}\PYG{p}{,}                                               \PYG{o}{\PYGZhy{}}
         \PYG{n}{REPEAT}\PYG{o}{=}\PYG{l+m+mi}{0016}
\end{sphinxVerbatim}

\begin{sphinxadmonition}{note}{Note:}
It is no longer necessary to left-pad the digits of IPv4 addresses with zeroes. Thus 192.168.092.080 can now be coded as 192.168.92.80.
\end{sphinxadmonition}

Depending on the



\renewcommand{\indexname}{Index}
\printindex
\end{document}